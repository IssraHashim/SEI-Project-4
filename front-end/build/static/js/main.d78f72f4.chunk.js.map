{"version":3,"sources":["helpers/auth.js","components/ImageUploadField.js","components/AddBook.js","components/UpdateAnAuthor.js","components/AuthorPage.js","components/AddReview.js","components/UpdateABook.js","components/Book.js","components/Browse.js","components/BrowseByGenre.js","components/AddanAuthor.js","components/Collection.js","components/Footer.js","assets/book_homepage.jpg","assets/library.jpg","components/Home.js","assets/download-1.png","components/MyNavbar.js","components/Register.js","components/Settings.js","App.js","index.js"],"names":["getTokenFromLocalStorage","window","localStorage","getItem","getPayload","token","splitToken","split","length","payloadString","JSON","parse","atob","userIsAuthenticated","payload","Math","round","Date","now","exp","ImageUploadField","handleImageUrl","handleUpload","event","a","data","FormData","append","target","files","axios","post","res","url","className","type","onChange","AddBook","AuthorId","setBooks","setShowAdd","history","useHistory","csrftoken","Cookies","get","useState","author","title","image","publication_year","description","genre","formData","setFormData","errors","setErrors","handleChange","name","value","handleSubmit","preventDefault","header","headers","push","books","response","Form","onSubmit","id","Group","controlId","Label","Control","rows","isInvalid","Feedback","md","style","display","justifyContent","paddingTop","Image","src","alt","placeholder","as","Select","disabled","selected","Button","variant","UpdateAnAuthor","setShowUpdate","setAuthor","showUpdate","biography","put","height","AuthorPage","liked","setLiked","owner","setOwner","showAdd","useParams","useEffect","getData","getUserData","user","followers","some","follower","Error","followAuthor","classList","contains","parentElement","index","indexOf","splice","console","log","deleteAuthor","delete","Breadcrumb","Item","to","color","textDecoration","active","backgroundImage","margin","flexDirection","href","onClick","currentUserId","sub","userIsOwner","Row","xs","map","book","Card","width","Img","Body","Title","fontSize","fontWeight","Spinner","animation","role","AddReview","setShowReview","setReviews","review","rating","reviews","backgroundColor","Check","inline","label","UpdateABook","setBook","Book","setRating","showReview","avgRating","addtoCollection","deleteReview","reviewId","deleteBook","allratings","average","reduce","b","toFixed","marginTop","Accordion","defaultActiveKey","newCreated","created_at","substring","eventKey","Header","username","textAlign","borderRadius","Browse","allBooks","setAllBooks","genres","setGenres","props","useLocation","params","QueryString","search","filteredresults","setFilteredResults","ratings","setRatings","checked","setChecked","checked2","setChecked2","checked3","setChecked3","checked4","setChecked4","checked5","setChecked5","allreviews","getRatings","newArray","i","filtered","filter","toLowerCase","includes","bookandRating","allbooks","find","handleClick","newBooksArray","newbooks","padding","border","CardGroup","Text","fontStyle","alignItems","flexWrap","BrowseByGenre","results","setResults","getBooks","booksGenre","AddanAuthor","Collection","yourBooks","setYourbooks","yourAuthors","setYourAuthors","addAuthor","setAddAuthor","loading","setLoading","liked_books","liked_authors","Footer","marginLeft","Home","setSearch","setIndex","startNewSearch","Carousel","activeIndex","onSelect","selectedIndex","interval","FirstImage","SecondImage","InputGroup","FormControl","MyNavbar","email","password","welcomeBack","setWelcomeBack","click","setClick","userLogo","icon","faUser","location","pathname","newFormData","setItem","message","Navbar","expand","Container","fluid","Brand","Logo","Toggle","Collapse","Nav","maxHeight","navbarScroll","Link","NavDropdown","autoClose","Col","align","Divider","removeItem","Dropdown","column","sm","Register","handleClose","show","setShow","first_name","last_name","profile_image","password_confirmation","placement","onHide","closeButton","noValidate","hasValidation","required","Settings","userData","setUserData","handleDelete","marginBottom","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"oQAAaA,EAA2B,WACtC,OAAOC,OAAOC,aAAaC,QAAQ,UAKxBC,EAAa,WACxB,IAAMC,EAAQL,IACd,GAAKK,EAAL,CACA,IAAMC,EAAaD,EAAME,MAAM,KAC/B,KAAID,EAAWE,OAAS,GAAxB,CACA,IAAMC,EAAgBH,EAAW,GACjC,OAAOI,KAAKC,MAAMC,KAAKH,OAIZI,EAAsB,WACjC,IAAMC,EAAUV,IAChB,QAAKU,GACOC,KAAKC,MAAMC,KAAKC,MAAQ,KACvBJ,EAAQK,K,sECZVC,EAAmB,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,eAG3BC,EAAY,uCAAG,WAAMC,GAAN,iBAAAC,EAAA,6DACbC,EAAO,IAAIC,UACZC,OAAO,OAAQJ,EAAMK,OAAOC,MAAM,IACvCJ,EAAKE,OAAO,gBATK,YAME,SAIDG,IAAMC,KAXV,yDAW0BN,GAJrB,OAIbO,EAJa,OAKnBX,EAAeW,EAAIP,KAAKQ,KALL,2CAAH,sDAQlB,OACE,mCACE,uBACEC,UAAU,QACVC,KAAK,OACLC,SAAUd,OC8HHe,EA3IC,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,SAAUC,EAA2B,EAA3BA,SAAUC,EAAiB,EAAjBA,WAC/BC,EAAUC,cACVC,EAAYC,IAAQC,IAAI,aAC9B,EAAiCC,mBAAS,CACxCC,OAAQT,EACRU,MAAO,GACPC,MAAO,GACPC,iBAAkB,GAClBC,YAAa,GACbC,MAAO,KANT,mBAAOC,EAAP,KAAiBC,EAAjB,KAUA,EAA6BR,mBAAS,CACpCC,OAAQT,EACRU,MAAO,GACPC,MAAO,GACPC,iBAAkB,GAClBC,YAAa,GACbC,MAAO,KANT,mBAAOG,EAAP,KAAeC,EAAf,KASMC,EAAe,SAAClC,GACpB+B,EAAY,2BAAKD,GAAN,kBAAiB9B,EAAMK,OAAO8B,KAAOnC,EAAMK,OAAO+B,UAUzDC,EAAY,uCAAG,WAAOrC,GAAP,mBAAAC,EAAA,6DACnBD,EAAMsC,iBADa,SAGXC,EAAS,CAAE,cAAenB,EAAW,cAAgB,UAAhB,OAA2B3C,MAHrD,SAIX8B,IAAMC,KAAK,cAAesB,EAAU,CAAEU,QAASD,IAJpC,cAKjBrB,EAAQuB,KAAR,kBAAwB1B,IALP,SAMMR,IAAMe,IAAN,uBAA0BP,EAA1B,MANN,gBAMTb,EANS,EAMTA,KACRc,EAASd,EAAKwC,OACdzB,GAAW,GARM,kDAUjBgB,EAAU,KAAIU,SAASzC,MAVN,0DAAH,sDAelB,OACE,eAAC0C,EAAA,EAAD,CAAMC,SAAUR,EAAcS,GAAG,kBAAjC,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYpC,UAAU,OAAOqC,UAAU,+BAAvC,UACE,cAACJ,EAAA,EAAKK,MAAN,oBACA,cAACL,EAAA,EAAKM,QAAN,CAActC,KAAK,OAAOuC,KAAM,EAAGhB,KAAK,QAAQC,MAAON,EAASL,MAAOZ,SAAUqB,EAAckB,UAAWpB,EAAOP,QAChHO,EAAOP,OAAS,cAACmB,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACdoB,EAAOP,WAIZ,eAACmB,EAAA,EAAKG,MAAN,CAAaO,GAAG,IAAIN,UAAU,qBAA9B,UACE,cAACJ,EAAA,EAAKK,MAAN,CAAYM,MAAO,CAAEC,QAAS,SAA9B,mBACA,cAAC,EAAD,CACEpB,MAAON,EAASJ,MAChBS,KAAK,QACLrC,eArCe,SAAAY,GACrBqB,EAAY,2BAAKD,GAAN,IAAgBJ,MAAOhB,MAqC5B0C,UAAWpB,EAAON,QAEnBM,EAAON,OAAS,cAACkB,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACdoB,EAAON,WAIXI,EAASJ,OACN,qBAAK6B,MAAO,CAAEC,QAAS,OAAQC,eAAgB,SAAUC,WAAY,QAArE,SACE,cAACC,EAAA,EAAD,CAAOC,IAAK9B,EAASJ,MAAOmC,IAAI,QAAQf,GAAG,qBAEjD,uBACA,eAACF,EAAA,EAAKG,MAAN,CAAaC,UAAU,2BAAvB,UACE,cAACJ,EAAA,EAAKK,MAAN,qCACA,cAACL,EAAA,EAAKM,QAAN,CACEtC,KAAK,OACLkD,YAAY,mBACZ,mBAAiB,oBACjB3B,KAAK,mBACLC,MAAON,EAASH,iBAChBd,SAAUqB,EACVkB,UAAWpB,EAAOL,mBAEnBK,EAAOL,kBAAoB,cAACiB,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACzBoB,EAAOL,sBAIZ,uBACA,eAACiB,EAAA,EAAKG,MAAN,CAAYpC,UAAU,OAAOqC,UAAU,+BAAvC,UACE,cAACJ,EAAA,EAAKK,MAAN,0BACA,cAACL,EAAA,EAAKM,QAAN,CAAca,GAAG,WAAWZ,KAAM,EAAGhB,KAAK,cAAcC,MAAON,EAASF,YAAaf,SAAUqB,EAAckB,UAAWpB,EAAOJ,cAC9HI,EAAOJ,aAAe,cAACgB,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACpBoB,EAAOJ,iBAIZ,eAACgB,EAAA,EAAKG,MAAN,WACE,eAACH,EAAA,EAAKK,MAAN,qBAAoBnB,EAASD,SAC7B,eAACe,EAAA,EAAKoB,OAAN,CAAa,aAAW,yBAAyB7B,KAAK,QAAQtB,SAAUqB,EAAckB,UAAWpB,EAAOH,MAAxG,UACE,wBAAQoC,UAAQ,EAACC,UAAQ,EAAzB,4BACA,wBAAQ9B,MAAM,YAAd,uBACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,aAAd,wBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,kBAAd,6BACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,eAAd,6BAEDJ,EAAOH,OAAS,cAACe,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACdoB,EAAOH,WAIZ,uBACA,uBACA,qBAAKlB,UAAU,eAAf,SACE,cAACwD,EAAA,EAAD,CAAQC,QAAQ,oBAAoBxD,KAAK,SAAzC,uBC7DOyD,EAtEQ,SAAC,GAAwD,IAArD7C,EAAoD,EAApDA,OAAQ8C,EAA4C,EAA5CA,cAAeC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,WACrDtD,EAAUC,cACVC,EAAYC,IAAQC,IAAI,aAE9B,EAAgCC,mBAAS,CACvCY,KAAMX,EAAOW,KACbsC,UAAWjD,EAAOiD,YAFpB,mBAAO3C,EAAP,KAAiBC,EAAjB,KAKA,EAA6BR,mBAAS,CACpCY,KAAM,GACNsC,UAAW,KAFb,mBAAOzC,EAAP,KAAeC,EAAf,KAOMC,EAAe,SAAClC,GACpB+B,EAAY,2BAAKD,GAAN,kBAAiB9B,EAAMK,OAAO8B,KAAOnC,EAAMK,OAAO+B,UAGzDC,EAAY,uCAAG,WAAOrC,GAAP,mBAAAC,EAAA,6DACnBD,EAAMsC,iBADa,SAGXC,EAAS,CAAE,cAAenB,EAAW,cAAgB,UAAhB,OAA2B3C,MAHrD,SAIX8B,IAAMmE,IAAN,uBAA0BlD,EAAOsB,GAAjC,KAAwChB,EAAU,CAAEU,QAASD,IAJlD,uBAKMhC,IAAMe,IAAN,uBAA0BE,EAAOsB,GAAjC,MALN,gBAKT5C,EALS,EAKTA,KACRoE,GAAeE,GACfD,EAAUrE,GACVgB,EAAQuB,KAAR,kBAAwBvC,EAAK4C,KARZ,kDAUjBb,EAAU,KAAIU,SAASzC,MAVN,0DAAH,sDAalB,OACE,eAAC0C,EAAA,EAAD,CAAMC,SAAUR,EAAcS,GAAG,kBAAjC,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYpC,UAAU,OAAOqC,UAAU,+BAAvC,UACE,cAACJ,EAAA,EAAKK,MAAN,mBACA,cAACL,EAAA,EAAKM,QAAN,CAActC,KAAK,OAAOuC,KAAM,EAAGhB,KAAK,OAAOC,MAAON,EAASK,KAAMtB,SAAUqB,EAAckB,UAAWpB,EAAOG,OAC9GH,EAAOG,MAAQ,cAACS,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACboB,EAAOG,UAIZ,eAACS,EAAA,EAAKG,MAAN,CAAaC,UAAU,2BAAvB,UACE,cAACJ,EAAA,EAAKK,MAAN,wBACA,cAACL,EAAA,EAAKM,QAAN,CACEa,GAAG,WACH5B,KAAK,YACLC,MAAON,EAAS2C,UAChB5D,SAAUqB,EACVkB,UAAWpB,EAAOyC,UAClBlB,MAAO,CAAEoB,OAAQ,WAElB3C,EAAOyC,WAAa,cAAC7B,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SAClBoB,EAAOyC,eAIZ,uBACA,uBACA,qBAAK9D,UAAU,eAAf,SACE,cAACwD,EAAA,EAAD,CAAQC,QAAQ,oBAAoBxD,KAAK,SAAzC,uBCgHOgE,EAxKI,WACjB,MAA0BrD,oBAAS,GAAnC,mBAAOsD,EAAP,KAAcC,EAAd,KACA,EAA4BvD,mBAAS,IAArC,mBAAOC,EAAP,KAAe+C,EAAf,KACA,EAA0BhD,mBAAS,IAAnC,mBAAOmB,EAAP,KAAc1B,EAAd,KACA,EAA0BO,mBAAS,IAAnC,mBAAOwD,EAAP,KAAcC,EAAd,KACA,EAA8BzD,oBAAS,GAAvC,mBAAO0D,EAAP,KAAgBhE,EAAhB,KACA,EAAoCM,oBAAS,GAA7C,mBAAOiD,EAAP,KAAmBF,EAAnB,KACQxB,EAAOoC,cAAPpC,GACF5B,EAAUC,cACVC,EAAYC,IAAQC,IAAI,aAI9B6D,qBAAU,WACR,IAAMC,EAAO,uCAAG,gCAAAnF,EAAA,sEACSM,IAAMe,IAAN,uBAA0BwB,EAA1B,MADT,uBACN5C,EADM,EACNA,KACRqE,EAAUrE,GACVc,EAASd,EAAKwC,OACdsC,EAAS9E,EAAK6E,OAJA,SAKKM,IALL,UAKRC,EALQ,kDAMI,GANJ,QAOdpF,EAAKqF,UAAUC,MAAM,SAAAC,GACfA,EAAS3C,KAAOwC,EAAKxC,IACvBgC,GAAS,MATC,4CAAH,qDAabM,MAEC,CAACtC,IAEJ,IAAMuC,EAAW,uCAAG,kCAAApF,EAAA,kEAEVnB,EAAQJ,OAAOC,aAAaC,QAAQ,SAF1B,sBAGE,IAAI8G,MAHN,UAIXpG,IAJW,sBAIkB,IAAIoG,MAJtB,cAKVnD,EAAS,CAAE,cAAenB,EAAW,cAAgB,UAAhB,OAA2BtC,IALtD,SAOOyB,IAAMe,IAAI,kBAAmB,CAAEkB,QAASD,IAP/C,uBAORrC,EAPQ,EAORA,KAPQ,kBAQTA,GARS,sHAAH,qDAgBXyF,EAAY,uCAAG,WAAM3F,GAAN,yBAAAC,EAAA,sEACAoF,IADA,cACbC,EADa,gBAEI/E,IAAMe,IAAN,uBAA0BwB,EAA1B,MAFJ,mBAEX5C,EAFW,EAEXA,KACJF,EAAMK,OAAOuF,UAAUC,SAAS,UAAY7F,EAAMK,OAAOyF,cAAcF,UAAUC,SAAS,UACtFE,EAAQ7F,EAAKqF,UAAUS,QAAQV,EAAKxC,IAC1C5C,EAAKqF,UAAUU,OAAOF,EAAO,KAEzB7F,EAAKqF,YAAWrF,EAAKqF,UAAL,sBAAsBrF,EAAKqF,WAA3B,CAAsCD,EAAKxC,MAC1D5C,EAAKqF,YAAWrF,EAAKqF,UAAY,CAACD,EAAKxC,MAEzC5C,EAVc,uBAUF,IAAIwF,MAVF,WAWb5G,EAAQJ,OAAOC,aAAaC,QAAQ,SAXvB,uBAYD,IAAI8G,MAZH,WAanBQ,QAAQC,IAAIjG,GACPZ,IAdc,uBAce,IAAIoG,MAdnB,eAebnD,EAAS,CAAE,cAAenB,EAAW,cAAgB,UAAhB,OAA2BtC,IAfnD,UAgBIyB,IAAMmE,IAAN,uBAA0B5B,EAA1B,UAAsC5C,EAAM,CAAEsC,QAASD,IAhB3D,yCAiBE,IAAImD,MAjBN,QAkBnBZ,GAAUD,GAlBS,4CAAH,sDAqCZuB,EAAY,uCAAG,4BAAAnG,EAAA,6DACbsC,EAAS,CAAE,cAAenB,EAAW,cAAgB,UAAhB,OAA2B3C,MADnD,SAEb8B,IAAM8F,OAAN,uBAA6BvD,EAA7B,KAAqC,CAAEN,QAASD,IAFnC,OAGnBrB,EAAQuB,KAAK,WAHM,2CAAH,qDAQlB,OACE,mCACIjB,EAAOW,KACP,qCACE,eAACmE,EAAA,EAAD,CAAYxD,GAAG,kBAAf,UACE,cAACwD,EAAA,EAAWC,KAAZ,UAAiB,cAAC,IAAD,CAAMC,GAAI,IAAIjD,MAAO,CAAEkD,MAAO,UAAWC,eAAgB,WAAzD,oBACjB,cAACJ,EAAA,EAAWC,KAAZ,UACE,cAAC,IAAD,CAAMC,GAAI,UAAUjD,MAAO,CAAEkD,MAAO,UAAWC,eAAgB,WAA/D,sBAIF,cAACJ,EAAA,EAAWC,KAAZ,CAAiBI,QAAM,EAAvB,SAAyBnF,EAAOC,WAElC,yBAASd,UAAU,cAAcmC,GAAG,cAAcS,MAAO,CAAEqD,gBAAgB,kEAAD,OAAoEpF,EAAOE,MAA3E,MAA1E,SACE,qBAAKf,UAAU,YAAYmC,GAAG,iBAA9B,SACE,sBAAKnC,UAAU,6BAAf,UACE,sBAAKA,UAAU,MAAMmC,GAAG,oBAAxB,UACE,qBAAKS,MAAO,CAAEC,QAAS,OAAQC,eAAgB,UAA/C,SACE,qBAAKG,IAAKpC,EAAOE,MAAOmC,IAAKrC,EAAOE,MAAOoB,GAAG,mBAE/CxD,KACD,qBAAKqB,UAAU,OAAO4C,MAAO,CAAEsD,OAAQ,OAAQrD,QAAS,OAAQsD,cAAe,UAA/E,SACE,oBAAGC,KAAK,IAAIC,QAAS,SAAChH,GAAD,OAAW2F,EAAa3F,IAAQW,UAAS,UAAOkE,EAAQ,QAAU,GAAzB,iCAA9D,UAA2H,mBAAGlE,UAAU,uBAAxI,IAAmKkE,EAAQ,aAAe,WAA1L,YAIJ,sBAAKlE,UAAU,WAAWmC,GAAG,mBAA7B,UACG0B,EACC,cAAC,EAAD,CAAgBhD,OAAQA,EAAQgD,WAAYA,EAAYF,cAAeA,EAAeC,UAAWA,IAEjG,qCACE,oBAAI5D,UAAU,OAAOmC,GAAG,aAAxB,SAAsCtB,EAAOW,OAC7C,mBAAGxB,UAAU,YAAYmC,GAAG,YAA5B,SAAyCtB,EAAOiD,eA/ChD,SAACwC,GACnBf,QAAQC,IAAIc,GACZ,IAAM1H,EAAUV,IAChB,QAAKU,GACE0H,IAAkB1H,EAAQ2H,IA+ClBC,CAAYpC,EAAMjC,KACnB,qCACE,cAACqB,EAAA,EAAD,CAAQC,QAAQ,+BAA+B4C,QAzD5C,WACnB1C,GAAeE,IAwDC,2BACA,cAACL,EAAA,EAAD,CAAQC,QAAQ,+BAA+B4C,QAASZ,EAAxD,wCAOT9G,KAAyB,cAAC6E,EAAA,EAAD,CAASC,QAAQ,oBAAoBb,MAAO,CAAEsD,OAAQ,oBAAsBG,QArE7F,WACf/F,GAAYgE,IAoEoB,yCACzBA,GAAW,cAAC,EAAD,CAAUlE,SAAUS,EAAOsB,GAAI9B,SAAUA,EAAUC,WAAYA,IAC3E,cAACmG,EAAA,EAAD,CAAKC,GAAI,EAAG/D,GAAI,EAAG3C,UAAU,MAAMmC,GAAG,gBAAtC,SACGJ,EAAM4E,KAAI,SAACC,GACV,OACE,cAACC,EAAA,EAAD,CAAMjE,MAAO,CAAEkE,MAAO,SAAyB3E,GAAG,aAAlD,SACE,eAAC,IAAD,CAAM0D,GAAE,iBAAYe,EAAKzE,IAAzB,UACE,cAAC0E,EAAA,EAAKE,IAAN,CAAUtD,QAAQ,MAAMR,IAAK2D,EAAK7F,QAClC,cAAC8F,EAAA,EAAKG,KAAN,UACE,cAACH,EAAA,EAAKI,MAAN,CAAYrE,MAAO,CAAEsE,SAAU,OAASC,WAAY,OAApD,SAA8DP,EAAK9F,cAJnC8F,EAAKzE,YAcnD,qBAAKA,GAAG,gBAAgBS,MAAO,CAAEoB,OAAQ,SAAzC,SACE,cAACoD,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,SAAjC,SACE,sBAAMtH,UAAU,kBAAhB,+B,QCHGuH,EAlKG,SAAC,GAAuC,IAArCpF,EAAoC,EAApCA,GAAIqF,EAAgC,EAAhCA,cAAeC,EAAiB,EAAjBA,WAChClH,EAAUC,cACVC,EAAYC,IAAQC,IAAI,aAC9B,EAAgCC,mBAAS,CACvCgG,KAAMzE,EACNuF,OAAQ,GACRC,OAAQ,OAHV,mBAAOxG,EAAP,KAAiBC,EAAjB,KAMA,EAA6BR,mBAAS,CACpC8G,OAAQ,GACRC,OAAQ,KAFV,mBAAOtG,EAAP,KAAeC,EAAf,KAKMC,EAAe,SAAClC,GACpB+B,EAAY,2BAAMD,GAAP,kBAAkB9B,EAAMK,OAAO8B,KAAOnC,EAAMK,OAAO+B,UAG1DC,EAAY,uCAAG,WAAOrC,GAAP,mBAAAC,EAAA,6DACnBD,EAAMsC,iBADa,SAGXC,EAAS,CAAE,cAAenB,EAAW,cAAgB,UAAhB,OAA2B3C,MAHrD,SAIX8B,IAAMC,KAAK,gBAAiBsB,EAAU,CAAEU,QAASD,IAJtC,cAKjBrB,EAAQuB,KAAR,iBAAuBK,IALN,SAMMvC,IAAMe,IAAN,qBAAwBwB,EAAxB,MANN,gBAMT5C,EANS,EAMTA,KACRiI,GAAc,GACdC,EAAWlI,EAAKqI,SARC,kDAWjBtG,EAAU,KAAIU,SAASzC,MAXN,0DAAH,sDAelB,OACE,eAAC0C,EAAA,EAAD,CAAMC,SAAUR,EAAcS,GAAG,kBAAjC,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYpC,UAAU,OAAOqC,UAAU,+BAAvC,UACE,cAACJ,EAAA,EAAKK,MAAN,qBACA,cAACL,EAAA,EAAKM,QAAN,CAAcK,MAAO,CAAEiF,gBAAiB,WAAazE,GAAG,WAAWZ,KAAM,EAAGhB,KAAK,SAASC,MAAON,EAASuG,OAAQxH,SAAUqB,EAAckB,UAAWpB,EAAOqG,SAC3JrG,EAAOqG,QAAU,cAACzF,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACfoB,EAAOqG,YAIZ,eAACzF,EAAA,EAAKG,MAAN,CAAYpC,UAAU,OAAOqC,UAAU,4BAAvC,UACE,cAACJ,EAAA,EAAKK,MAAN,qBACA,sBAAKtC,UAAU,OAAf,UACwB,MAApBmB,EAASwG,QAAuC,OAApBxG,EAASwG,OACrC,cAAC1F,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNzE,UAAQ,EACR0E,MAAM,IACNxG,KAAK,SACLvB,KAAK,WACLwB,MAAM,IACN4E,QAAS9E,IAGX,cAACU,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNC,MAAM,IACNxG,KAAK,SACLvB,KAAK,WACLwB,MAAM,IACN4E,QAAS9E,EACTkB,UAAWpB,EAAOsG,SAGA,MAApBxG,EAASwG,QAAuC,OAApBxG,EAASwG,OACrC,cAAC1F,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNzE,UAAQ,EACR0E,MAAM,IACNxG,KAAK,SACLvB,KAAK,WACLwB,MAAM,IACN4E,QAAS9E,IAGX,cAACU,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNC,MAAM,IACNxG,KAAK,SACLvB,KAAK,WACLwB,MAAM,IACN4E,QAAS9E,EACTkB,UAAWpB,EAAOsG,SAGA,MAApBxG,EAASwG,QAAuC,OAApBxG,EAASwG,OACrC,cAAC1F,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNzE,UAAQ,EACR0E,MAAM,IACNxG,KAAK,SACLvB,KAAK,WACLwB,MAAM,IACN4E,QAAS9E,IAGX,cAACU,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNC,MAAM,IACNxG,KAAK,SACLvB,KAAK,WACLwB,MAAM,IACN4E,QAAS9E,EACTkB,UAAWpB,EAAOsG,SAGA,MAApBxG,EAASwG,QAAuC,OAApBxG,EAASwG,OACrC,cAAC1F,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNzE,UAAQ,EACR0E,MAAM,IACNxG,KAAK,SACLvB,KAAK,WACLwB,MAAM,MAGR,cAACQ,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNC,MAAM,IACNxG,KAAK,SACLvB,KAAK,WACLwB,MAAM,IACN4E,QAAS9E,EACTkB,UAAWpB,EAAOsG,SAGA,MAApBxG,EAASwG,QAAuC,OAApBxG,EAASwG,OACrC,cAAC1F,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNzE,UAAQ,EACR0E,MAAM,IACNxG,KAAK,SACLvB,KAAK,WACLwB,MAAM,IACN4E,QAAS9E,IAGX,cAACU,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNC,MAAM,IACNxG,KAAK,SACLvB,KAAK,WACLwB,MAAM,IACN4E,QAAS9E,EACTkB,UAAWpB,EAAOsG,YAIxB,qBAAK3H,UAAU,eAAf,SACE,cAACwD,EAAA,EAAD,CAAQC,QAAQ,oBAAoBxD,KAAK,SAAzC,6BCzCKgI,EA/GK,SAAC,GAA8C,IAA5CrB,EAA2C,EAA3CA,KAAM/F,EAAqC,EAArCA,OAAQqH,EAA6B,EAA7BA,QAASvE,EAAoB,EAApBA,cACtCpD,EAAUC,cACVC,EAAYC,IAAQC,IAAI,aAC9B,EAAiCC,mBAAS,CACxCC,OAAQA,EAAOsB,GACfrB,MAAO8F,EAAK9F,MACZE,iBAAkB4F,EAAK5F,iBACvBC,YAAa2F,EAAK3F,YAClBC,MAAO0F,EAAK1F,QALd,mBAAOC,EAAP,KAAiBC,EAAjB,KASA,EAA6BR,mBAAS,CACpCC,OAAQA,EAAOsB,GACfrB,MAAO,GACPE,iBAAkB,GAClBC,YAAa,GACbC,MAAO,KALT,mBAAOG,EAAP,KAAeC,EAAf,KAQMC,EAAe,SAAClC,GACpB+B,EAAY,2BAAKD,GAAN,kBAAiB9B,EAAMK,OAAO8B,KAAOnC,EAAMK,OAAO+B,UAGzDC,EAAY,uCAAG,WAAOrC,GAAP,mBAAAC,EAAA,6DACnBD,EAAMsC,iBADa,SAGXC,EAAS,CAAE,cAAenB,EAAW,cAAgB,UAAhB,OAA2B3C,MAHrD,SAIX8B,IAAMmE,IAAN,qBAAwB6C,EAAKzE,GAA7B,KAAoChB,EAAU,CAAEU,QAASD,IAJ9C,uBAKMhC,IAAMe,IAAN,qBAAwBiG,EAAKzE,GAA7B,MALN,gBAKT5C,EALS,EAKTA,KACR2I,EAAQ3I,GACRoE,GAAc,GACdpD,EAAQuB,KAAR,iBAAuB8E,EAAKzE,KARX,kDAUjBb,EAAU,KAAIU,SAASzC,MAVN,0DAAH,sDAelB,OACE,eAAC0C,EAAA,EAAD,CAAMC,SAAUR,EAAcS,GAAG,kBAAjC,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYpC,UAAU,OAAOqC,UAAU,+BAAvC,UACE,cAACJ,EAAA,EAAKK,MAAN,oBACA,cAACL,EAAA,EAAKM,QAAN,CAActC,KAAK,OAAOuC,KAAM,EAAGhB,KAAK,QAAQC,MAAON,EAASL,MAAOZ,SAAUqB,EAAckB,UAAWpB,EAAOP,QAChHO,EAAOP,OAAS,cAACmB,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACdoB,EAAOP,WAIZ,eAACmB,EAAA,EAAKG,MAAN,CAAaC,UAAU,2BAAvB,UACE,cAACJ,EAAA,EAAKK,MAAN,qCACA,cAACL,EAAA,EAAKM,QAAN,CACEtC,KAAK,OACLkD,YAAY,mBACZ,mBAAiB,oBACjB3B,KAAK,mBACLC,MAAON,EAASH,iBAChBd,SAAUqB,EACVkB,UAAWpB,EAAOL,mBAEnBK,EAAOL,kBAAoB,cAACiB,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACzBoB,EAAOL,sBAIZ,uBACA,eAACiB,EAAA,EAAKG,MAAN,CAAYpC,UAAU,OAAOqC,UAAU,+BAAvC,UACE,cAACJ,EAAA,EAAKK,MAAN,0BACA,cAACL,EAAA,EAAKM,QAAN,CAAca,GAAG,WAAWZ,KAAM,EAAGhB,KAAK,cAAcC,MAAON,EAASF,YAAaf,SAAUqB,EAAckB,UAAWpB,EAAOJ,cAC9HI,EAAOJ,aAAe,cAACgB,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACpBoB,EAAOJ,iBAIZ,eAACgB,EAAA,EAAKG,MAAN,WACE,eAACH,EAAA,EAAKK,MAAN,qBAAoBnB,EAASD,SAC7B,eAACe,EAAA,EAAKoB,OAAN,CAAa,aAAW,yBAAyB7B,KAAK,QAAQtB,SAAUqB,EAAckB,UAAWpB,EAAOH,MAAxG,UACE,wBAAQoC,UAAQ,EAACC,UAAQ,EAAzB,4BACA,wBAAQ9B,MAAM,YAAd,uBACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,aAAd,wBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,UAAd,qBACA,wBAAQA,MAAM,kBAAd,6BACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,eAAd,6BAEDJ,EAAOH,OAAS,cAACe,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACdoB,EAAOH,WAIZ,uBACA,uBACA,qBAAKlB,UAAU,eAAf,SACE,cAACwD,EAAA,EAAD,CAAQC,QAAQ,oBAAoBxD,KAAK,SAAzC,uBC6HOkI,EAjOF,WACX,IAAM1H,EAAYC,IAAQC,IAAI,aACtBwB,EAAOoC,cAAPpC,GACR,EAAyBvB,mBAAS,IAAlC,mBAAQgG,EAAR,KAAcsB,EAAd,KACA,EAA6BtH,mBAAS,IAAtC,mBAAQC,EAAR,KAAgB+C,EAAhB,KACA,EAA8BhD,mBAAS,IAAvC,mBAAOgH,EAAP,KAAgBH,EAAhB,KACA,EAA0B7G,mBAAS,IAAnC,mBAAOwD,EAAP,KAAcC,EAAd,KACA,EAA0BzD,oBAAS,GAAnC,mBAAOsD,EAAP,KAAcC,EAAd,KACA,EAA4BvD,qBAA5B,mBAAO+G,EAAP,KAAeS,EAAf,KACA,EAAoCxH,oBAAS,GAA7C,mBAAOyH,EAAP,KAAmBb,EAAnB,KACA,EAAoC5G,oBAAS,GAA7C,mBAAOiD,EAAP,KAAmBF,EAAnB,KACMpD,EAAUC,cAEhBgE,qBAAU,WACR,IAAMC,EAAO,uCAAG,gCAAAnF,EAAA,sEACSM,IAAMe,IAAN,qBAAwBwB,EAAxB,MADT,mBACN5C,EADM,EACNA,KACR2I,EAAQ3I,GACRqE,EAAUrE,EAAKsB,QACf4G,EAAWlI,EAAKqI,SAChBvD,EAAS9E,EAAK6E,OACdkE,GAAU/I,EAAKqI,SACTjD,EAAOD,KAPC,2CAQI,GARJ,QASdnF,EAAKqF,UAAUC,MAAM,SAAAC,GACfA,EAAS3C,KAAOwC,EAAKxC,IACvBgC,GAAS,MAXC,4CAAH,qDAebM,MAEC,IAEH,IAAMC,GAAW,uCAAG,kCAAApF,EAAA,kEAEVnB,EAAQJ,OAAOC,aAAaC,QAAQ,SAF1B,sBAGE,IAAI8G,MAHN,UAIXpG,IAJW,sBAIkB,IAAIoG,MAJtB,cAKVnD,EAAS,CAAE,cAAgB,UAAhB,OAA2BzD,IAL5B,SAMOyB,IAAMe,IAAI,kBAAmB,CAAEkB,QAASD,GAAW,CAAEC,QAAS,CAAE,cAAepB,KANtF,uBAMRlB,EANQ,EAMRA,KANQ,kBAOTA,GAPS,sHAAH,qDAcXgJ,GAAe,uCAAG,WAAMlJ,GAAN,yBAAAC,EAAA,sEACHoF,KADG,cAChBC,EADgB,gBAEC/E,IAAMe,IAAN,qBAAwBwB,EAAxB,MAFD,mBAEd5C,EAFc,EAEdA,KACJF,EAAMK,OAAOuF,UAAUC,SAAS,UAAY7F,EAAMK,OAAOyF,cAAcF,UAAUC,SAAS,UACtFE,EAAQ7F,EAAKqF,UAAUS,QAAQV,EAAKxC,IAC1C5C,EAAKqF,UAAUU,OAAOF,EAAO,KAEzB7F,EAAKqF,YAAWrF,EAAKqF,UAAL,sBAAsBrF,EAAKqF,WAA3B,CAAsCD,EAAKxC,MAC1D5C,EAAKqF,YAAWrF,EAAKqF,UAAY,CAACD,EAAKxC,MAEzC5C,EAViB,uBAUL,IAAIwF,MAVC,WAWhB5G,EAAQJ,OAAOC,aAAaC,QAAQ,SAXpB,uBAYJ,IAAI8G,MAZA,WAatBQ,QAAQC,IAAIjG,GACPZ,IAdiB,uBAcY,IAAIoG,MAdhB,eAehBnD,EAAS,CAAE,cAAenB,EAAW,cAAgB,UAAhB,OAA2BtC,IAfhD,UAgBCyB,IAAMmE,IAAN,qBAAwB5B,EAAxB,UAAoC5C,EAAM,CAAEsC,QAASD,IAhBtD,yCAiBD,IAAImD,MAjBH,QAkBtBZ,GAAUD,GAlBY,4CAAH,sDA0BfsC,GAAc,SAACF,GACnB,IAAM1H,EAAUV,IAChB,QAAKU,GACE0H,IAAkB1H,EAAQ2H,KAG7BiC,GAAY,uCAAG,WAAMC,EAAUf,GAAhB,iBAAApI,EAAA,6DACbsC,EAAS,CAAE,cAAenB,EAAW,cAAgB,UAAhB,OAA2B3C,MADnD,SAEb8B,IAAM8F,OAAN,uBAA6B+C,EAA7B,MAA2C,CAAE5G,QAASD,IAFzC,OAGbwD,EAAQwC,EAAQvC,QAAQqC,GAHX,YAKSE,EAAQtC,OAAOF,EAAO,IAClDqC,EAAW,YAAIG,IACfrH,EAAQuB,KAAR,iBAAuBK,IAPJ,2CAAH,wDAWZuG,GAAU,uCAAG,4BAAApJ,EAAA,6DACXsC,EAAS,CAAE,cAAenB,EAAW,cAAgB,UAAhB,OAA2B3C,MADrD,SAEX8B,IAAM8F,OAAN,qBAA2BvD,EAA3B,KAAmC,CAAEN,QAASD,IAFnC,OAGjBrB,EAAQuB,KAAK,WAHI,2CAAH,qDAOVwG,GAAY,SAACV,GACjB,GAAIA,EAAQtJ,OAAS,EAAG,CACtB,IAAMqK,EAAaf,EAAQjB,KAAI,SAAAe,GAAM,OAAIA,EAAOC,UAC1CiB,EAAUD,EAAWE,QAAO,SAACvJ,EAAGwJ,GAAJ,OAAWxJ,EAAIwJ,KAAMH,EAAWrK,OAClE8J,EAAWQ,EAAQG,QAAQ,MAU/B,OACE,mCACGnC,EAAK9F,MACJ,qCACE,eAAC6E,EAAA,EAAD,CAAYxD,GAAG,kBAAf,UACE,cAACwD,EAAA,EAAWC,KAAZ,UAAiB,cAAC,IAAD,CAAMC,GAAI,IAAIjD,MAAO,CAAEkD,MAAO,UAAWC,eAAgB,WAAzD,oBACjB,cAACJ,EAAA,EAAWC,KAAZ,UACE,cAAC,IAAD,CAAMC,GAAI,UAAUjD,MAAO,CAAEkD,MAAO,UAAWC,eAAgB,WAA/D,sBAIF,cAACJ,EAAA,EAAWC,KAAZ,CAAiBI,QAAM,EAAvB,SAAyBY,EAAK9F,WAEhC,yBAASd,UAAU,cAAcmC,GAAG,cAAcS,MAAO,CAAEqD,gBAAgB,gEAAD,OAAkEW,EAAK7F,MAAvE,MAA1E,SACE,qBAAKf,UAAU,YAAYmC,GAAG,iBAA9B,SACE,sBAAKnC,UAAU,6BAAf,UACE,sBAAKA,UAAU,MAAMmC,GAAG,oBAAxB,UACE,qBAAKS,MAAO,CAAEC,QAAS,OAAQC,eAAgB,UAA/C,SACE,qBAAKG,IAAK2D,EAAK7F,MAAOmC,IAAK0D,EAAK7F,MAAOoB,GAAG,iBAE3CxD,KACD,sBAAKqB,UAAU,OAAO4C,MAAO,CAAEsD,OAAQ,OAAQrD,QAAS,OAAQsD,cAAe,UAA/E,UACE,oBAAGC,KAAK,IAAIC,QAAS,SAAChH,GAAD,OAAWkJ,GAAgBlJ,IAAQW,UAAS,UAAOkE,EAAQ,QAAU,GAAzB,iCAAjE,UAA8H,mBAAGlE,UAAU,gBAA3I,IAA+JkE,EAAQ,4BAA8B,qBAArM,OACEsC,GAAYpC,EAAMjC,KACpB,qCACE,uBACA,cAACqB,EAAA,EAAD,CAAQC,QAAQ,+BAA+B4C,QAhChD,WACjB1C,GAAeE,IA+BG,oBACA,cAACL,EAAA,EAAD,CAAQC,QAAQ,+BAA+B4C,QAASqC,GAAxD,kCAON,qBAAK1I,UAAU,WAAWmC,GAAG,mBAA7B,SACG0B,EACC,cAAC,EAAD,CAAa+C,KAAMA,EAAM/C,WAAYA,EAAYF,cAAeA,EAAeuE,QAASA,EAASrH,OAAQA,IAEzG,qCACE,oBAAIb,UAAU,OAAOmC,GAAG,aAAxB,SAAsCyE,EAAK9F,QAE3C,cAAC,IAAD,CAAM+E,GAAE,kBAAchF,EAAOsB,IAA7B,SAAmC,oBAAIS,MAAO,CAAEoG,UAAW,OAAQjD,eAAgB,aAAhD,SAAgElF,EAAOW,SAC1G,oBAAGxB,UAAU,OAAOmC,GAAG,YAAvB,gCAAwDyE,EAAK5F,oBAC7D,uBACA,mBAAImB,GAAG,YAAP,SAAoByE,EAAK3F,cACzB,uBACA,cAAC,IAAD,CAAM4E,GAAE,kBAAae,EAAK1F,OAA1B,SAAmC,mBAAIiB,GAAG,kBAAP,SAA0ByE,EAAK1F,UACjE0G,EAAQtJ,OAAS,GAAK,oBAAG0B,UAAU,OAAOmC,GAAG,YAAvB,qBAA4CwF,EAA5C,IAAoD,mBAAG3H,UAAU,+BAOpG,sBAAK4C,MAAO,CAAEC,QAAS,QAAvB,UACE,qBAAKV,GAAG,iBAAR,SACE,eAAC8G,EAAA,EAAD,CAAWC,iBAAiB,IAA5B,UACGb,GAAc,cAAC,EAAD,CAAWlG,GAAIA,EAAIqF,cAAeA,EAAeC,WAAYA,IAC3EG,EAAQtJ,OAAS,EAAIsJ,EAAQjB,KAAI,SAAAe,GAChC,IAAMyB,EAAazB,EAAO0B,WAAWC,UAAU,EAAE,IACjD,OAAI7C,GAAYkB,EAAOtD,MAAMjC,IAEzB,eAAC8G,EAAA,EAAUrD,KAAX,CAAgB0D,SAAS,IAAzB,UACE,eAACL,EAAA,EAAUM,OAAX,CAAkB3G,MAAO,CAAEkD,MAAO,SAAW3D,GAAG,+BAAhD,UAAgFuF,EAAOtD,MAAMoF,SAA7F,kBAAsHL,KAEtH,eAACF,EAAA,EAAUjC,KAAX,WACGU,EAAOA,OACR,uBACCA,EAAOC,UAEV,cAACnE,EAAA,EAAD,CAAQrB,GAAG,qBAAqBkE,QAAS,kBAAMmC,GAAad,EAAOvF,GAAIuF,IAAvE,sBARgCA,EAAOvF,IAa3C,eAAC8G,EAAA,EAAUrD,KAAX,CAAgB0D,SAAS,IAAzB,UACE,eAACL,EAAA,EAAUM,OAAX,WAAmB7B,EAAOtD,MAAMoF,SAAhC,kBAAyDL,KAEzD,eAACF,EAAA,EAAUjC,KAAX,WACGU,EAAOA,OACR,uBACCA,EAAOC,YANsBD,EAAOvF,OAY3C,qCACE,mBAAGA,GAAG,sBAAN,kFACExD,KAAyB,cAAC,IAAD,CAAMkH,GAAG,YAAT,SAAqB,mBAAGjD,MAAO,CAAE6G,UAAW,QAASvD,OAAQ,qBAAsBH,eAAgB,aAA9E,iDAMxD,qBAAK/F,UAAU,gBAAf,SACGrB,KACD,eAAC6E,EAAA,EAAD,CAAQC,QAAQ,oBAAoB4C,QA3I9B,WAChBmB,GAAea,IA0IoDzF,MAAO,CAAEoB,OAAQ,OAAQ0F,aAAc,OAAhG,UAA0G,mBAAG1J,UAAU,gBAAvH,4BAMN,qBAAKmC,GAAG,gBAAgBS,MAAO,CAAEoB,OAAQ,SAAzC,SACE,cAACoD,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,SAAjC,SACE,sBAAMtH,UAAU,kBAAhB,+B,gBC8BG2J,EArPA,WAEb,MAA0B/I,mBAAS,IAAnC,mBAAOmB,EAAP,KAAc1B,EAAd,KACA,EAAgCO,mBAAS,IAAzC,mBAAOgJ,EAAP,KAAiBC,EAAjB,KACA,EAA4BjJ,mBAAS,IAArC,mBAAOkJ,EAAP,KAAeC,EAAf,KACMC,EAAQC,cACRC,EAASC,QAAkBH,EAAMI,QACvC,EAA8CxJ,mBAAS,IAAvD,mBAAOyJ,EAAP,KAAwBC,EAAxB,KAGA,EAA+B1J,mBAAS,IAAxC,mBAAO2J,EAAP,KAAgBC,EAAhB,KACA,EAA+B5J,oBAAS,GAAxC,mBAAO6J,EAAP,KAAgBC,EAAhB,KACA,EAAiC9J,oBAAS,GAA1C,mBAAO+J,EAAP,KAAiBC,EAAjB,KACA,EAAiChK,oBAAS,GAA1C,mBAAOiK,EAAP,KAAiBC,EAAjB,KACA,EAAiClK,oBAAS,GAA1C,mBAAOmK,EAAP,KAAiBC,EAAjB,KACA,EAAiCpK,oBAAS,GAA1C,mBAAOqK,GAAP,KAAiBC,GAAjB,KAEA1G,qBAAU,WACR,IAAMC,EAAO,uCAAG,wCAAAnF,EAAA,sEACSM,IAAMe,IAAI,eADnB,OAOd,IAPc,SACNpB,EADM,EACNA,KACRc,EAASd,GACTsK,EAAYtK,GACN4L,EAAa5L,EAAKoH,KAAI,SAAAC,GAAI,OAAIA,EAAKgB,WACzCwD,GAAWD,GACLE,EAAW,GANH,WAOLC,GAEMD,EAASxG,MAAK,SAAA3D,GACzB,OAAQA,EAAMA,QAAU3B,EAAK+L,GAAGpK,UAEjBmK,EAASvJ,KAAKvC,EAAK+L,KAL7BA,EAAI,EAAGA,EAAI/L,EAAKjB,OAAQgN,IAAM,EAA9BA,GAOTvB,EAAUsB,GAEK,KACfE,EAAWhM,EAAKiM,QAAQ,SAAApB,GACtB,OACEA,EAAOtJ,MAAM2K,cAAcC,SAASxB,EAAOE,WAI/CE,EAAmBiB,GAvBL,4CAAH,qDA0Bb9G,MAEC,CAACuF,IAGJ,IAAMoB,GAAa,SAACxD,GAElB,IADA,IAAM+D,EAAgB,GACbL,EAAI,EAAGA,EAAI1D,EAAQtJ,OAAQgN,IAAK,CACvC,GAAI1D,EAAQ0D,GAAGhN,OAAS,EAAG,CACzB,IAAMqK,EAAaf,EAAQ0D,GAAG3E,KAAI,SAAAe,GAAM,OAAIA,EAAOC,UAC7CiE,EAAWhE,EAAQ0D,GAAGO,MAAK,SAAAnE,GAAM,OAAIA,EAAOd,QAC5CgC,EAAUD,EAAWE,QAAO,SAACvJ,EAAGwJ,GAAJ,OAAWxJ,EAAIwJ,KAAMH,EAAWrK,OAClEqN,EAAc7J,KAAK,CAAC8J,EAAUhD,EAAQG,QAAQ,KAEhDyB,EAAWmB,KAKTG,GAAc,SAACzM,GAanB,GAZ0B,MAAtBA,EAAMK,OAAO8B,KACfkJ,GAAYD,GACmB,MAAtBpL,EAAMK,OAAO8B,KACtBoJ,GAAaD,GACkB,MAAtBtL,EAAMK,OAAO8B,KACtBsJ,GAAaD,GACkB,MAAtBxL,EAAMK,OAAO8B,KACtBwJ,GAAaD,GACkB,MAAtB1L,EAAMK,OAAO8B,MACtB0J,IAAaD,IAGVR,GAAYE,GAAcE,GAAaE,GAAaE,GAcvD5K,EAASuJ,OAdwD,CAEjE,IADA,IAAMmC,EAAgB,GAD2C,WAExDT,GACP,GAAIf,EAAQe,GAAG,IAAMjM,EAAMK,OAAO8B,KAAO,CACvC,IAAMwK,EAAWjK,EAAMyJ,QAAO,SAAA5E,GAC5B,GAAIA,EAAKzE,KAAOoI,EAAQe,GAAG,GAAG1E,KAC5B,OAAOA,KAGXmF,EAAcjK,KAAKkK,EAAS,MAPvBV,EAAI,EAAGA,EAAIf,EAAQjM,OAAQgN,IAAM,EAAjCA,GAUTjL,EAAS0L,KAQb,OACE,mCACIhK,EAAMzD,OACN,qCACE,uBACA,oBAAIsE,MAAO,CAAEqJ,QAAS,oBAAtB,6BACA,oBAAIrJ,MAAO,CAAEkD,MAAO,cACpB,uBACA,cAACW,EAAA,EAAD,CAAKtE,GAAG,cAAR,SACG2H,EAAOnD,KAAI,SAAAC,GACV,OACE,cAACC,EAAA,EAAD,CAAoB7G,UAAU,cAAckM,OAAO,QAAQ/J,GAAG,aAA9D,SACE,eAAC,IAAD,CAAM0D,GAAE,kBAAce,EAAK1F,OAAS0B,MAAO,CAAEkD,MAAO,UAAWC,eAAgB,WAA/E,UACE,cAACc,EAAA,EAAKE,IAAN,CAAUtD,QAAQ,MAAMR,IAAK2D,EAAK7F,MAAOoB,GAAG,gBAC5C,cAAC0E,EAAA,EAAKG,KAAN,UAAYJ,EAAK1F,YAHV0F,EAAKzE,SAUtB,uBACA,uBACCkI,EAAgB/L,OAAS,EACxB,mCACE,cAAC6N,EAAA,EAAD,CAAWhK,GAAG,cAAd,SACE,cAACsE,EAAA,EAAD,CAAKC,GAAI,EAAG/D,GAAI,EAAG3C,UAAU,MAAMmC,GAAG,eAAtC,SACGkI,EAAgB1D,KAAI,SAAAC,GACnB,OACE,cAACC,EAAA,EAAD,CAAoB1E,GAAG,aAAYS,MAAO,CAAEkE,MAAO,SAAnD,SACE,eAAC,IAAD,CAAMjB,GAAE,iBAAYe,EAAKzE,IAAMS,MAAO,CAAEkD,MAAO,UAAWC,eAAgB,WAA1E,UACE,cAACc,EAAA,EAAKE,IAAN,CAAUtD,QAAQ,MAAMR,IAAK2D,EAAK7F,QAClC,eAAC8F,EAAA,EAAKG,KAAN,WACE,cAACH,EAAA,EAAKI,MAAN,UAAaL,EAAK9F,QAClB,eAAC+F,EAAA,EAAKuF,KAAN,CAAWxJ,MAAQ,CAAEyJ,UAAW,SAAUnF,SAAU,QAApD,UACGN,EAAK/F,OAAOW,KACb,uBACCoF,EAAKgB,QAAQtJ,OAHhB,qBALKsI,EAAKzE,aAmB1B,qCACI+H,EAAOE,OACP,qCACE,uEAAyC,uBAAzC,+CACA,0BAGF,uBAEF,sBAAKjI,GAAG,uBAAR,UACE,sBAAMA,GAAG,uBAAT,UACE,4CACA,uBACA,yCACA,uBACA,sBAAoBnC,UAAU,OAAO4C,MAAO,CAAEC,QAAS,OAAQsD,cAAe,UAA9E,UACE,cAAClE,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNC,MAAM,IACNxG,KAAK,IACLvB,KAAK,WACLoG,QAASyF,GACTrB,QAASA,IAEX,cAACxI,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNC,MAAM,IACNxG,KAAK,IACLvB,KAAK,WACLoG,QAASyF,GACTrB,QAASE,IAEX,cAAC1I,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNC,MAAM,IACNxG,KAAK,IACLvB,KAAK,WACLoG,QAASyF,GACTrB,QAASI,IAEX,cAAC5I,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNC,MAAM,IACNxG,KAAK,IACLvB,KAAK,WACLoG,QAASyF,GACTrB,QAASM,IAGX,cAAC9I,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNC,MAAM,IACNxG,KAAK,IACLvB,KAAK,WACLoG,QAASyF,GACTrB,QAASQ,OAxCJ,eA6CX,qBAAKrI,MAAO,CAAEC,QAAS,OAAQyJ,WAAY,SAAUC,SAAU,QAA/D,SACE,cAACJ,EAAA,EAAD,CAAWhK,GAAG,cAAd,SACE,cAACsE,EAAA,EAAD,CAAKC,GAAI,EAAG/D,GAAI,EAAG3C,UAAU,MAAMmC,GAAG,eAAtC,SACGJ,EAAM4E,KAAI,SAAAC,GACT,OACE,cAACC,EAAA,EAAD,CAAoB1E,GAAG,aAAvB,SACE,eAAC,IAAD,CAAM0D,GAAE,iBAAYe,EAAKzE,IAAMS,MAAO,CAAEkD,MAAO,UAAWC,eAAgB,WAA1E,UACE,cAACc,EAAA,EAAKE,IAAN,CAAUtD,QAAQ,MAAMR,IAAK2D,EAAK7F,MAAOoB,GAAG,sBAC5C,eAAC0E,EAAA,EAAKG,KAAN,WACE,cAACH,EAAA,EAAKI,MAAN,UAAaL,EAAK9F,QAClB,eAAC+F,EAAA,EAAKuF,KAAN,CAAWpM,UAAU,aAAa4C,MAAQ,CAAEyJ,UAAW,SAAUnF,SAAU,QAA3E,UACGN,EAAK/F,OAAOW,KACb,uBACCoF,EAAKgB,QAAQtJ,OAHhB,qBALKsI,EAAKzE,sBAuBlC,mCACE,qBAAKA,GAAG,gBAAgBS,MAAO,CAAEoB,OAAQ,SAAzC,SACE,cAACoD,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,SAAjC,SACE,sBAAMtH,UAAU,kBAAhB,iCCpDCwM,EAzLO,WACpB,IAAQtL,EAAUqD,cAAVrD,MACR,EAA0BN,mBAAS,IAAnC,mBAAOmB,EAAP,KAAc1B,EAAd,KACA,EAAgCO,mBAAS,IAAzC,mBAAOgJ,EAAP,KAAiBC,EAAjB,KACA,EAA+BjJ,mBAAS,IAAxC,mBAAO2J,EAAP,KAAgBC,EAAhB,KACA,EAA+B5J,oBAAS,GAAxC,mBAAO6J,EAAP,KAAgBC,EAAhB,KACA,EAAiC9J,oBAAS,GAA1C,mBAAO+J,EAAP,KAAiBC,EAAjB,KACA,EAAiChK,oBAAS,GAA1C,mBAAOiK,EAAP,KAAiBC,EAAjB,KACA,EAAiClK,oBAAS,GAA1C,mBAAOmK,EAAP,KAAiBC,EAAjB,KACA,EAAiCpK,oBAAS,GAA1C,mBAAOqK,EAAP,KAAiBC,EAAjB,KACA,EAAgCtK,mBAAS,IAAzC,mBAAQ6L,EAAR,KAAiBC,EAAjB,KAEAlI,qBAAU,WACR,IAAMmI,EAAQ,uCAAG,kCAAArN,EAAA,sEACQM,IAAMe,IAAI,eADlB,gBACPpB,EADO,EACPA,KACFqN,EAAarN,EAAKiM,QAAO,SAAA5E,GAC7B,GAAIA,EAAK1F,QAAUA,EACjB,OAAO0F,KAGLuE,EAAa5L,EAAKoH,KAAI,SAAAC,GAAI,OAAIA,EAAKgB,WACzCwD,EAAWD,GACX9K,EAASuM,GACT/C,EAAY+C,GAVG,2CAAH,qDAYdD,MACC,CAACzL,IAIJ,IAAMkK,EAAa,SAACxD,GAElB,IADA,IAAM+D,EAAgB,GACbL,EAAI,EAAGA,EAAI1D,EAAQtJ,OAAQgN,IAAK,CACvC,GAAI1D,EAAQ0D,GAAGhN,OAAS,EAAG,CACzB,IAAMqK,EAAaf,EAAQ0D,GAAG3E,KAAI,SAAAe,GAAM,OAAIA,EAAOC,UAC7CiE,EAAWhE,EAAQ0D,GAAGO,MAAK,SAAAnE,GAAM,OAAIA,EAAOd,QAC5CgC,EAAUD,EAAWE,QAAO,SAACvJ,EAAGwJ,GAAJ,OAAWxJ,EAAIwJ,KAAMH,EAAWrK,OAClEqN,EAAc7J,KAAK,CAAC8J,EAAUhD,EAAQG,QAAQ,KAEhDyB,EAAWmB,KAKTG,EAAc,SAACzM,GAanB,GAZ0B,MAAtBA,EAAMK,OAAO8B,KACfkJ,GAAYD,GACmB,MAAtBpL,EAAMK,OAAO8B,KACtBoJ,GAAaD,GACkB,MAAtBtL,EAAMK,OAAO8B,KACtBsJ,GAAaD,GACkB,MAAtBxL,EAAMK,OAAO8B,KACtBwJ,GAAaD,GACkB,MAAtB1L,EAAMK,OAAO8B,MACtB0J,GAAaD,GAGVR,GAAYE,GAAcE,GAAaE,GAAaE,EAqBvD5K,EAASuJ,GACT8C,EAAW,QAtBsD,CAEjE,IADA,IAAMX,EAAgB,GAD2C,WAExDT,GACP,GAAIf,EAAQe,GAAG,IAAMjM,EAAMK,OAAO8B,KAAO,CACvC,IAAMwK,EAAWjK,EAAMyJ,QAAO,SAAA5E,GAC5B,GAAIA,EAAKzE,KAAOoI,EAAQe,GAAG,GAAG1E,KAE5B,OADArB,QAAQC,IAAIoB,GACLA,KAGPoF,EAAS1N,OAAS,GACpByN,EAAcjK,KAAKkK,EAAS,MATzBV,EAAI,EAAGA,EAAIf,EAAQjM,OAAQgN,IAAM,EAAjCA,GAaLS,EAAczN,OAAS,IACzB+B,EAAS0L,GACTW,EAAW,KAEbA,EAAW,0CAUf,OACE,mCACG3K,EAAMzD,OACL,qCACE,uBACA,oBAAIsE,MAAO,CAAEqJ,QAAS,oBAAtB,SAA6C/K,IAC7C,oBAAI0B,MAAO,CAAEkD,MAAO,cACpB,uBACA,0BAASlD,MAAO,CAAEC,QAAS,QAA3B,UACE,qBAAKV,GAAG,uBAAR,SACE,sBAAMA,GAAG,uBAAT,UACE,4CACA,uBACA,yCACA,uBACA,sBAAoBnC,UAAU,OAAO4C,MAAO,CAAEC,QAAS,OAAQsD,cAAe,UAA9E,UACE,cAAClE,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNC,MAAM,IACNxG,KAAK,IACLvB,KAAK,WACLoG,QAASyF,EACTrB,QAASA,IAEX,cAACxI,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNC,MAAM,IACNxG,KAAK,IACLvB,KAAK,WACLoG,QAASyF,EACTrB,QAASE,IAEX,cAAC1I,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNC,MAAM,IACNxG,KAAK,IACLvB,KAAK,WACLoG,QAASyF,EACTrB,QAASI,IAEX,cAAC5I,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNC,MAAM,IACNxG,KAAK,IACLvB,KAAK,WACLoG,QAASyF,EACTrB,QAASM,IAGX,cAAC9I,EAAA,EAAK6F,MAAN,CACEC,QAAM,EACNC,MAAM,IACNxG,KAAK,IACLvB,KAAK,WACLoG,QAASyF,EACTrB,QAASQ,MAxCJ,iBA6Cb,sBAAKrI,MAAO,CAAEC,QAAS,OAAQsD,cAAe,SAAUmG,WAAY,UAApE,UACE,qBAAK1J,MAAO,CAAE6G,UAAW,UAAzB,SAAuCgD,IACvC,oBAAI7J,MAAO,CAAEkD,MAAO,cACpB,cAACqG,EAAA,EAAD,CAAWhK,GAAG,cAAd,SACE,cAACsE,EAAA,EAAD,CAAKC,GAAI,EAAG/D,GAAI,EAAG3C,UAAU,MAAMmC,GAAG,eAAtC,SACGJ,EAAM4E,KAAI,SAAAC,GACT,OACE,cAACC,EAAA,EAAD,CAAoB1E,GAAG,aAAvB,SACE,eAAC,IAAD,CAAM0D,GAAE,iBAAYe,EAAKzE,IAAMS,MAAO,CAAEkD,MAAO,UAAWC,eAAgB,WAA1E,UACE,cAACc,EAAA,EAAKE,IAAN,CAAUtD,QAAQ,MAAMR,IAAK2D,EAAK7F,QAClC,eAAC8F,EAAA,EAAKG,KAAN,WACE,cAACH,EAAA,EAAKI,MAAN,UAAaL,EAAK9F,QAClB,eAAC+F,EAAA,EAAKuF,KAAN,CAAWxJ,MAAQ,CAAEyJ,UAAW,SAAUnF,SAAU,QAApD,UACGN,EAAK/F,OAAOW,KACb,uBACCoF,EAAKgB,QAAQtJ,OAHhB,qBALKsI,EAAKzE,oBAqB9B,qBAAKA,GAAG,gBAAgBS,MAAO,CAAEoB,OAAQ,SAAzC,SACE,cAACoD,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,SAAjC,SACE,sBAAMtH,UAAU,kBAAhB,+BCrFG6M,EA3FK,WAClB,IAAMtM,EAAUC,cACVC,EAAYC,IAAQC,IAAI,aAC9B,EAAiCC,mBAAS,CACxCY,KAAM,GACNT,MAAO,GACP+C,UAAW,KAHb,mBAAO3C,EAAP,KAAiBC,EAAjB,KAMA,EAA6BR,mBAAS,CACpCY,KAAM,GACNT,MAAO,GACP+C,UAAW,KAHb,mBAAOzC,EAAP,KAAeC,EAAf,KAMMC,EAAe,SAAClC,GACpB+B,EAAY,2BAAKD,GAAN,kBAAiB9B,EAAMK,OAAO8B,KAAOnC,EAAMK,OAAO+B,UAQzDC,EAAY,uCAAG,WAAOrC,GAAP,mBAAAC,EAAA,6DACnBD,EAAMsC,iBADa,SAGXC,EAAS,CAAE,cAAenB,EAAW,cAAgB,UAAhB,OAA2B3C,MAHrD,SAIM8B,IAAMC,KAAK,gBAAiBsB,EAAU,CAAEU,QAASD,IAJvD,gBAITrC,EAJS,EAITA,KACRgB,EAAQuB,KAAR,kBAAwBvC,EAAK4C,KALZ,kDAOjBb,EAAU,KAAIU,SAASzC,MAPN,0DAAH,sDAWlB,OACE,eAAC0C,EAAA,EAAD,CAAMC,SAAUR,EAAcS,GAAG,kBAAjC,UACE,eAACF,EAAA,EAAKG,MAAN,CAAYpC,UAAU,OAAOqC,UAAU,+BAAvC,UACE,cAACJ,EAAA,EAAKK,MAAN,mBACA,cAACL,EAAA,EAAKM,QAAN,CAActC,KAAK,OAAOuC,KAAM,EAAGhB,KAAK,OAAOC,MAAON,EAASK,KAAMtB,SAAUqB,EAAckB,UAAWpB,EAAOG,OAC9GH,EAAOG,MAAQ,cAACS,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACboB,EAAOG,UAIZ,eAACS,EAAA,EAAKG,MAAN,CAAaO,GAAG,IAAIN,UAAU,qBAA9B,UACE,cAACJ,EAAA,EAAKK,MAAN,CAAYM,MAAO,CAAEC,QAAS,SAA9B,mBACA,cAAC,EAAD,CACEpB,MAAON,EAASJ,MAChBS,KAAK,QACLrC,eA/Be,SAAAY,GACrBqB,EAAY,2BAAKD,GAAN,IAAgBJ,MAAOhB,MA+B5B0C,UAAWpB,EAAON,QAGnBM,EAAON,OAAS,cAACkB,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACdoB,EAAON,WAIXI,EAASJ,OACN,qBAAK6B,MAAO,CAAEC,QAAS,OAAQC,eAAgB,SAAUC,WAAY,QAArE,SACE,cAACC,EAAA,EAAD,CAAOC,IAAK9B,EAASJ,MAAOmC,IAAI,QAAQf,GAAG,qBAEjD,uBACA,eAACF,EAAA,EAAKG,MAAN,CAAaC,UAAU,2BAAvB,UACE,cAACJ,EAAA,EAAKK,MAAN,wBACA,cAACL,EAAA,EAAKM,QAAN,CACEa,GAAG,WACH5B,KAAK,YACLC,MAAON,EAAS2C,UAChB5D,SAAUqB,EACVkB,UAAWpB,EAAOyC,UAClBlB,MAAO,CAAEoB,OAAQ,WAElB3C,EAAOyC,WAAa,cAAC7B,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SAClBoB,EAAOyC,eAIZ,uBACA,uBACA,qBAAK9D,UAAU,eAAf,SACE,cAACwD,EAAA,EAAD,CAAQC,QAAQ,oBAAoBxD,KAAK,SAAzC,uBCEO6M,EApFI,WACjB,IAAMrM,EAAYC,IAAQC,IAAI,aAC9B,EAAkCC,mBAAS,IAA3C,mBAAOmM,EAAP,KAAkBC,EAAlB,KACA,EAAsCpM,mBAAS,IAA/C,mBAAOqM,EAAP,KAAoBC,EAApB,KACA,EAAkCtM,oBAAS,GAA3C,mBAAOuM,EAAP,KAAkBC,EAAlB,KACA,EAA8BxM,oBAAS,GAAvC,mBAAOyM,EAAP,KAAgBC,EAAhB,KAGA9I,qBAAU,WACR,IAAME,EAAW,uCAAG,kCAAApF,EAAA,yDACZnB,EAAQJ,OAAOC,aAAaC,QAAQ,SADxB,sBAEA,IAAI8G,MAFJ,UAGbpG,IAHa,sBAGgB,IAAIoG,MAHpB,cAIZnD,EAAS,CAAE,cAAgB,UAAhB,OAA2BzD,IAJ1B,SAKKyB,IAAMe,IAAI,kBAAmB,CAAEkB,QAASD,GAAW,CAAEC,QAAS,CAAE,cAAepB,KALpF,gBAKVlB,EALU,EAKVA,KACRyN,EAAazN,EAAKgO,aAClBL,EAAe3N,EAAKiO,eACpBF,GAAW,GARO,4CAAH,qDAUjB5I,MAEC,IAOH,OACE,mCACI2I,EACA,qBAAKlL,GAAG,gBAAgBS,MAAO,CAAEoB,OAAQ,SAAzC,SACE,cAACoD,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,SAAjC,SACE,sBAAMtH,UAAU,kBAAhB,4BAIJ,qCACE,uBACA,oBAAI4C,MAAO,CAAEqJ,QAAS,oBAAtB,6BACA,uBACA,oBAAIrJ,MAAO,CAAEqJ,QAAS,mBAAtB,oBAEA,eAACzI,EAAA,EAAD,CAAQC,QAAQ,oBAAoB4C,QAnBxB,WAClB+G,GAAcD,IAkBkDvK,MAAO,CAAEsD,OAAQ,oBAA3E,UAAiG,mBAAGlG,UAAU,uBAA9G,uBACEmN,GAAa,cAAC,EAAD,IACf,oBAAIvK,MAAO,CAAEkD,MAAO,cACpB,oBAAIlD,MAAO,CAAEqJ,QAAS,oBAAtB,8BACA,cAACxF,EAAA,EAAD,CAAKC,GAAI,EAAG/D,GAAI,EAAG3C,UAAU,MAAMmC,GAAG,gBAAtC,SACG4K,EAAUpG,KAAI,SAACC,GACd,OACE,cAACC,EAAA,EAAD,CAAoBjE,MAAO,CAAEkE,MAAO,SAAW3E,GAAG,aAAlD,SACE,eAAC,IAAD,CAAM0D,GAAE,iBAAYe,EAAKzE,IAAzB,UACE,cAAC0E,EAAA,EAAKE,IAAN,CAAUtD,QAAQ,MAAMR,IAAK2D,EAAK7F,QAClC,cAAC8F,EAAA,EAAKG,KAAN,UACE,cAACH,EAAA,EAAKI,MAAN,CAAYrE,MAAO,CAAEsE,SAAU,OAASC,WAAY,OAApD,SAA8DP,EAAK9F,cAJ9D8F,EAAKzE,SAWtB,oBAAIS,MAAO,CAAEkD,MAAO,cACpB,oBAAIlD,MAAO,CAAEqJ,QAAS,oBAAtB,8BACA,cAACxF,EAAA,EAAD,CAAKC,GAAI,EAAG/D,GAAI,EAAG3C,UAAU,MAAMmC,GAAG,gBAAtC,SACG8K,EAAYtG,KAAI,SAAC9F,GAChB,OACE,cAACgG,EAAA,EAAD,CAAMjE,MAAO,CAAEkE,MAAO,SAA2B3E,GAAG,aAApD,SACE,eAAC,IAAD,CAAM0D,GAAE,kBAAahF,EAAOsB,IAA5B,UACE,cAAC0E,EAAA,EAAKE,IAAN,CAAUtD,QAAQ,MAAMR,IAAKpC,EAAOE,QACpC,cAAC8F,EAAA,EAAKG,KAAN,UACE,cAACH,EAAA,EAAKI,MAAN,CAAYrE,MAAO,CAAEsE,SAAU,OAASC,WAAY,OAApD,SAA8DtG,EAAOW,aAJrCX,EAAOsB,eCzD9CsL,EAjBA,WAEb,OACE,sBAAK7K,MAAO,CAAEC,QAAS,OAAQmB,OAAQ,OAAQlB,eAAgB,eAAgBwJ,WAAY,UAAYnK,GAAG,cAA1G,UACE,8BAAK,mBAAGiE,KAAK,iCAAR,qBACL,qDACA,sBAAKxD,MAAO,CAAEC,QAAS,QAAvB,UACE,qBAAKD,MAAO,CAAE8K,WAAY,QAA1B,SAAoC,mBAAGtH,KAAK,2BAAR,yBACpC,qBAAKxD,MAAO,CAAE8K,WAAY,QAA1B,SAAoC,mBAAGtH,KAAK,0BAAR,wBACpC,qBAAKxD,MAAO,CAAE8K,WAAY,QAA1B,SAAoC,mBAAGtH,KAAK,yBAAR,8B,wBCZ7B,MAA0B,0CCA1B,MAA0B,oCCuG1BuH,EAzFF,WACX,MAA0B/M,mBAAS,IAAnC,mBAAOmB,EAAP,KAAc1B,EAAd,KACA,EAA6BO,mBAAS,IAAtC,mBAAOwJ,EAAP,KAAewD,EAAf,KAEApJ,qBAAU,WACR,IAAMC,EAAO,uCAAG,8BAAAnF,EAAA,sEACSM,IAAMe,IAAI,eADnB,gBACNpB,EADM,EACNA,KACRc,EAASd,GAFK,2CAAH,qDAIbkF,MAEC,IAEH,MAA0B7D,mBAAS,GAAnC,mBAAOwE,EAAP,KAAcyI,EAAd,KAUMC,EAAiB,WACrB,MAAM,IAAN,OAAW3D,YAAsBC,KAInC,OACE,mCACGrI,EAAMzD,OACL,qCACE,eAACyP,EAAA,EAAD,CAAWC,YAAa5I,EAAO6I,SAjBlB,SAACC,GACpBL,EAASK,IAgBH,UACE,eAACH,EAAA,EAASnI,KAAV,CAAeuI,SAAU,IAAzB,UACE,qBACEnO,UAAU,eACViD,IAAKmL,EACLpK,OAAO,MACPd,IAAI,QACJf,GAAG,sBAEL,gCACE,qBAAKA,GAAG,gBAAR,oCACA,uBACA,qBAAKA,GAAG,mBAAR,iOAGJ,eAAC4L,EAAA,EAASnI,KAAV,CAAeuI,SAAU,IAAzB,UACE,gCACE,qBAAKhM,GAAG,gBAAR,0BACA,uBACA,sBAAKA,GAAG,mBAAR,qBAAoCJ,EAAMzD,OAA1C,uGAEF,qBACE0B,UAAU,eACViD,IAAKoL,EACLrK,OAAO,MACPd,IAAI,YACJf,GAAG,4BAIT,8BACE,cAACmM,EAAA,EAAD,CAAYnM,GAAG,aAAf,SACE,eAACF,EAAA,EAAD,CAAMjC,UAAU,SAAhB,UACE,cAACuO,EAAA,EAAD,CACEpL,YAAY,sBACZnD,UAAU,OACVE,SAjDK,SAACb,GACpBuO,EAAU,2BAAKxD,GAAN,IAAcA,OAAQ/K,EAAMK,OAAO+B,MAAMgK,kBAiDpC,aAAW,uBACX,mBAAiB,eACjB7I,MAAO,CAAEiF,gBAAiB,eAE5B,cAAC,IAAD,CAAMhC,GAAE,iBAAYiI,KAApB,SAAwC,cAACtK,EAAA,EAAD,CAAQC,QAAQ,oBAAoB4C,QAASyH,EAA7C,gCAMhD,qBAAK3L,GAAG,gBAAgBS,MAAO,CAAEoB,OAAQ,SAAzC,SACE,cAACoD,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,SAAjC,SACE,sBAAMtH,UAAU,kBAAhB,+B,2CC/FG,OAA0B,uC,6BCiL1BwO,GA7JE,WACf,IAAM/N,EAAYC,IAAQC,IAAI,aAC9B,EAAgCC,mBAAU,CACxC6N,MAAO,GACPC,SAAU,KAFZ,mBAAOvN,EAAP,KAAiBC,EAAjB,KAMA,EAA4BR,oBAAS,GAArC,mBAAOS,EAAP,KAAeC,EAAf,KACA,EAAsCV,mBAAS,IAA/C,mBAAO+N,EAAP,KAAoBC,EAApB,KACA,EAA0BhO,oBAAS,GAAnC,mBAAOiO,EAAP,KAAcC,EAAd,KACMC,EAAW,cAAC,KAAD,CAAiBC,KAAMC,OAClC1O,EAAUC,cACV0O,EAAWjF,cACjB,EAA4BrJ,mBAAS,IAArC,mBAAOkJ,EAAP,KAAeC,EAAf,KAKAvF,qBAAU,WACR,IAAMC,EAAO,uCAAG,oCAAAnF,EAAA,sEACSM,IAAMe,IAAI,eADnB,OAGd,IAHc,SACNpB,EADM,EACNA,KACF8L,EAAW,GAFH,WAGLC,GAEMD,EAASxG,MAAK,SAAA3D,GACzB,OAAQA,EAAMA,QAAU3B,EAAK+L,GAAGpK,UAEjBmK,EAASvJ,KAAKvC,EAAK+L,KAL7BA,EAAI,EAAGA,EAAI/L,EAAKjB,OAAQgN,IAAM,EAA9BA,GAQTvB,EAAUsB,GAXI,2CAAH,qDAab5G,MACC,CAACyK,EAASC,WAIb,IAAMrD,EAAc,WAClBgD,GAAUD,IAKNtN,EAAe,SAAClC,GACpB,IAAM+P,EAAW,2BAAQjO,GAAR,kBAAmB9B,EAAMK,OAAO8B,KAAOnC,EAAMK,OAAO+B,QACrEL,EAAYgO,IAaR1N,EAAY,uCAAG,8BAAApC,EAAA,+EAEMM,IAAMC,KAAK,mBAAoBsB,EACpD,CAAEU,QAAS,CAAE,cAAepB,KAHb,gBAETlB,EAFS,EAETA,KAXmBpB,EAaLoB,EAAKpB,MAZ7BJ,OAAOC,aAAaqR,QAAQ,QAASlR,GAanCyQ,EAAerP,EAAK+P,SACpB/O,EAAQuB,KAAK,KANI,kDAQjBR,GAAU,GARO,kCATS,IAACnD,IASV,qBAAH,qDAalB,OACE,cAACoR,EAAA,EAAD,CAAQpN,GAAG,cAAcqN,OAAO,KAAhC,SACE,eAACC,EAAA,EAAD,CAAWC,OAAK,EAAhB,UACE,cAACH,EAAA,EAAOI,MAAR,UACE,cAAC,IAAD,CAAM9J,GAAG,IAAT,SACE,qBACE5C,IAAK2M,GACL5L,OAAO,KACPhE,UAAU,2BACVkD,IAAI,wBAGV,cAACqM,EAAA,EAAOM,OAAR,CAAe,gBAAc,iBAC7B,eAACN,EAAA,EAAOO,SAAR,CAAiB3N,GAAG,eAApB,UACE,eAAC4N,EAAA,EAAD,CACE/P,UAAU,uBACV4C,MAAO,CAAEoN,UAAW,SACpBC,cAAY,EAHd,UAKE,cAACF,EAAA,EAAIG,KAAL,UAAU,cAAC,IAAD,CAAMrK,GAAG,UAAUjD,MAAO,CAAEkD,MAAO,UAAWC,eAAgB,WAA9D,sBACV,cAACoK,GAAA,EAAD,CAAa1M,QAAQ,QAAO2M,UAAU,UAAUtP,MAAM,QAAcqB,GAAG,mCAAvE,SACG2H,EAAOnD,KAAI,SAAAC,GACV,OACE,cAACuJ,GAAA,EAAYvK,KAAb,CAAgC5F,UAAU,YAA1C,SACE,cAAC,IAAD,CAAM6F,GAAE,kBAAae,EAAK1F,OAAS0B,MAAO,CAAEkD,MAAO,UAAWC,eAAgB,WAA9E,SAA4F,cAACsK,GAAA,EAAD,CAAmBlO,GAAG,gBAAtB,SAAuCyE,EAAK1F,OAAlC0F,EAAKzE,OADtFyE,EAAKzE,YAOpC,cAACoN,EAAA,EAAOO,SAAR,CAAiB9P,UAAU,sBAA3B,SACGrB,IACC,qCACE,cAAC4Q,EAAA,EAAOnD,KAAR,UAAcuC,IACd,eAACwB,GAAA,EAAD,CAAaC,UAAU,UAAUjO,GAAG,6BAA6BmO,MAAM,MAAMtQ,UAAU,gBAAgBqG,QAASyF,EAAahL,MAAOiO,EAApI,UACE,cAACoB,GAAA,EAAYvK,KAAb,UAAmB,cAAC,IAAD,CAAMC,GAAG,cAAT,+BACnB,cAACsK,GAAA,EAAYvK,KAAb,UAAmB,cAAC,IAAD,CAAMC,GAAG,YAAT,wBACnB,cAACsK,GAAA,EAAYI,QAAb,IACA,cAACJ,GAAA,EAAYvK,KAAb,CAAkBQ,KAAK,WAAWC,QAxD7B,WACnBtI,OAAOC,aAAawS,WAAW,SAC/BjQ,EAAQuB,KAAK,MAsDC,2BAMJ,qCACE,cAACqO,GAAA,EAAD,CAAaC,UAAU,UAAUjO,GAAG,6BAA6BmO,MAAM,MAAMtQ,UAAU,gBAAgBqG,QAASyF,EAAahL,MAAM,SAAnI,SAA+IgL,GAC7I,mCACE,cAAC2E,GAAA,EAAS7K,KAAV,CAAehD,MAAO,CAAEC,QAAS,OAAQsD,cAAe,SAAUmG,WAAY,QAASzE,gBAAiB,aAAxG,SACE,eAAC5F,EAAA,EAAD,CAAMW,MAAO,CAAEkE,MAAO,QAASjE,QAAS,OAAQsD,cAAe,SAAUmG,WAAY,QAASvJ,WAAY,QAA1G,UACE,eAACd,EAAA,EAAKG,MAAN,CAAYgB,GAAIiN,KAAKrQ,UAAU,OAAOqC,UAAU,qBAAhD,UACE,cAACJ,EAAA,EAAKK,MAAN,CAAYoO,QAAM,EAACC,GAAG,IAAtB,mBAGA,eAACN,GAAA,EAAD,CAAKM,GAAG,KAAK/N,MAAO,CAAEkE,MAAO,SAA7B,UACE,cAAC7E,EAAA,EAAKM,QAAN,CAActC,KAAK,QAAQkD,YAAY,cAAc3B,KAAK,QAAQtB,SAAUqB,EAAcE,MAAON,EAASsN,QACzGpN,GAAU,6EAIf,eAACY,EAAA,EAAKG,MAAN,CAAYgB,GAAIiN,KAAKrQ,UAAU,OAAOqC,UAAU,wBAAhD,UACE,cAACJ,EAAA,EAAKK,MAAN,CAAYoO,QAAM,EAACC,GAAG,IAAtB,sBAGA,eAACN,GAAA,EAAD,CAAKM,GAAG,KAAK/N,MAAO,CAAEkE,MAAO,SAA7B,UACE,cAAC7E,EAAA,EAAKM,QAAN,CAActC,KAAK,WAAWkD,YAAY,WAAW3B,KAAK,WAAWtB,SAAUqB,EAAcE,MAAON,EAASuN,WAC5GrN,GAAU,6EAGf,cAACmC,EAAA,EAAD,CAAQvD,KAAK,SAASwD,QAAQ,oBAAqBtB,GAAG,qBAAqBS,MAAO,CAAEoG,UAAW,QAAU3C,QAAS3E,EAAlH,8BAMR,cAAC,IAAD,CAAMmE,GAAG,YAAT,SAAqB,cAACrC,EAAA,EAAD,CAAQC,QAAQ,UAAUtB,GAAG,uBAA7B,sCCsKtByO,GA9TE,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YACZpQ,EAAYC,IAAQC,IAAI,aACxBJ,EAAUC,cAChB,EAAyBI,oBAAS,GAAlC,mBAAOkQ,EAAP,KAAaC,EAAb,KACA,EAAgCnQ,mBAAS,CACvCoQ,WAAY,GACZC,UAAW,GACXzH,SAAU,GACViF,MAAO,GACPyC,cAAe,GACfxC,SAAU,GACVyC,sBAAuB,GACvB3D,cAAe,GACfD,YAAa,KATf,mBAAOpM,EAAP,KAAiBC,EAAjB,KAWA,EAA4BR,mBAAS,CACnC4I,SAAU,GACViF,MAAO,GACPyC,cAAe,GACfxC,SAAU,GACVyC,sBAAuB,KALzB,mBAAO9P,EAAP,KAAeC,EAAf,KASMC,EAAe,SAAClC,GACpB+B,EAAY,2BAAKD,GAAN,kBAAiB9B,EAAMK,OAAO8B,KAAOnC,EAAMK,OAAO+B,UAKzDC,EAAY,uCAAG,WAAMrC,GAAN,SAAAC,EAAA,6DACnBD,EAAMsC,iBADa,SAGjB4D,QAAQC,IAAIrE,GAHK,SAIXvB,IAAMC,KAAK,sBAAuBsB,EAAU,CAAEU,QAAS,CAAE,cAAepB,KAJ7D,OAKjBsQ,GAAQ,GACRxQ,EAAQuB,KAAK,KANI,gDASjBR,EAAU,KAAIU,SAASzC,MATN,yDAAH,sDAmBlB,OACE,sBAAKuR,KAAMA,EAAMM,UAAU,MAAMC,OAAQR,EAAa1O,GAAG,kBAAzD,UACE,qBAAKmP,aAAW,EAAhB,SACE,qBAAK1O,MAAO,CAAEqJ,QAAS,mBAAoB/E,SAAU,QAArD,wBAEF,eAACjF,EAAA,EAAD,CAAMsP,YAAU,EAACrP,SAAUR,EAAcS,GAAG,kBAA5C,UACE,gCACE,eAACsE,EAAA,EAAD,CAAKzG,UAAU,OAAf,UACE,eAACiC,EAAA,EAAKG,MAAN,CAAYgB,GAAIiN,KAAKhO,UAAU,qBAA/B,UACE,cAACJ,EAAA,EAAKK,MAAN,yBACA,cAACL,EAAA,EAAKM,QAAN,CACEtC,KAAK,OACLuB,KAAK,aACLC,MAAON,EAAS6P,WAChB9Q,SAAUqB,OAGd,eAACU,EAAA,EAAKG,MAAN,CAAYgB,GAAIiN,KAAKhO,UAAU,qBAA/B,UACE,cAACJ,EAAA,EAAKK,MAAN,wBACA,cAACL,EAAA,EAAKM,QAAN,CACEtC,KAAK,OACLuB,KAAK,YACLC,MAAON,EAAS8P,UAChB/Q,SAAUqB,UAIhB,uBACA,eAACkF,EAAA,EAAD,CAAKzG,UAAU,OAAf,UACE,eAACiC,EAAA,EAAKG,MAAN,CAAYgB,GAAIiN,KAAKhO,UAAU,2BAA/B,UACE,cAACJ,EAAA,EAAKK,MAAN,uBACA,cAACL,EAAA,EAAKM,QAAN,CACEtC,KAAK,OACLkD,YAAY,WACZ,mBAAiB,oBACjB3B,KAAK,WACLC,MAAON,EAASqI,SAChBtJ,SAAUqB,EACVkB,UAAWpB,EAAOmI,WAEnBnI,EAAOmI,UAAY,cAACvH,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACjBoB,EAAOmI,cAIZ,eAACvH,EAAA,EAAKG,MAAN,CAAYgB,GAAIiN,KAAMhO,UAAU,qBAAhC,UACE,cAACJ,EAAA,EAAKK,MAAN,oBACA,eAACgM,EAAA,EAAD,CAAYkD,eAAa,EAAzB,UAEE,cAAClD,EAAA,EAAWlC,KAAZ,CAAiBjK,GAAG,oBAApB,eACA,cAACF,EAAA,EAAKM,QAAN,CACEtC,KAAK,QACLkD,YAAY,QACZ3B,KAAK,QACLC,MAAON,EAASsN,MAChBvO,SAAUqB,EACVkB,UAAWpB,EAAOoN,QAGpB,cAACxM,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACGoB,EAAOoN,iBAKhB,uBACA,eAAChI,EAAA,EAAD,CAAKzG,UAAU,OAAf,UACE,eAACiC,EAAA,EAAKG,MAAN,CAAYgB,GAAIiN,KAAKhO,UAAU,qBAA/B,UACE,cAACJ,EAAA,EAAKK,MAAN,uBACA,cAACL,EAAA,EAAKM,QAAN,CACEtC,KAAK,WACLkD,YAAY,WACZ3B,KAAK,WACLC,MAAON,EAASuN,SAChBxO,SAAUqB,EACVkB,UAAWpB,EAAOqN,WAEpB,cAACzM,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACGoB,EAAOqN,cAGZ,eAACzM,EAAA,EAAKG,MAAN,CAAYgB,GAAIiN,KAAKhO,UAAU,qBAA/B,UACE,cAACJ,EAAA,EAAKK,MAAN,oCACA,cAACL,EAAA,EAAKM,QAAN,CACEtC,KAAK,WACLkD,YAAY,wBACZ3B,KAAK,wBACLC,MAAON,EAASgQ,sBAChBjR,SAAUqB,EACVkB,UAAWpB,EAAO8P,wBAEpB,cAAClP,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACGoB,EAAO8P,iCAMhB,uBACA,cAAC1K,EAAA,EAAD,CAAKzG,UAAU,OAAf,SACE,sBAAKoD,GAAIiN,KAAK1N,GAAG,IAAIN,UAAU,qBAA/B,UACE,cAACJ,EAAA,EAAKK,MAAN,8BACA,uBACA,cAAC,EAAD,CACEb,MAAON,EAAS+P,cAChB1P,KAAK,gBACLrC,eA/GW,SAAAY,GACrBqB,EAAY,2BAAKD,GAAN,IAAgB+P,cAAenR,MA+GhC0C,UAAWpB,EAAO6P,gBAEpB,cAACjP,EAAA,EAAKM,QAAQG,SAAd,CAAuBzC,KAAK,UAA5B,SACGoB,EAAO6P,gBAET/P,EAAS+P,eACR,qBAAKtO,MAAO,CAAEC,QAAS,OAAQC,eAAgB,aAAcC,WAAY,QAAzE,SACE,cAACC,EAAA,EAAD,CAAOC,IAAK9B,EAAS+P,cAAehO,IAAI,QAAQf,GAAG,yBAI3D,uBACA,cAACF,EAAA,EAAKG,MAAN,UACE,cAACH,EAAA,EAAK6F,MAAN,CACE2J,UAAQ,EACRjQ,KAAK,QACLvB,KAAK,WACL+H,MAAM,yEACN9H,SAAUqB,EACVY,GAAG,wBAGP,uBACA,cAACqB,EAAA,EAAD,CAAQC,QAAQ,oBAAoBxD,KAAK,SAASoG,QAAS3E,EAA3D,gCCjHOgQ,GAvEE,WACf,IAAMjR,EAAYC,IAAQC,IAAI,aAC9B,EAAgCC,mBAAS,IAAzC,mBAAO+Q,EAAP,KAAiBC,EAAjB,KACA,EAAwBhR,oBAAS,GAAjC,mBAAOkQ,EAAP,KAAaC,EAAb,KACMxQ,EAAUC,cAEhBgE,qBAAU,WACR,IAAME,EAAW,uCAAG,kCAAApF,EAAA,yDACZnB,EAAQJ,OAAOC,aAAaC,QAAQ,SADxB,sBAEA,IAAI8G,MAFJ,UAGbpG,IAHa,sBAGgB,IAAIoG,MAHpB,cAIZnD,EAAS,CAAE,cAAgB,UAAhB,OAA2BzD,IAJ1B,SAKKyB,IAAMe,IAAI,kBAAmB,CAAEkB,QAASD,GAAW,CAAEC,QAAS,CAAE,cAAepB,KALpF,gBAKVlB,EALU,EAKVA,KACRqS,EAAYrS,GANM,4CAAH,qDAQjBmF,MAEC,IAGH,IAAMmN,EAAY,uCAAG,8BAAAvS,EAAA,yDACbnB,EAAQJ,OAAOC,aAAaC,QAAQ,SADvB,sBAED,IAAI8G,MAFH,UAGdpG,IAHc,sBAGe,IAAIoG,MAHnB,cAIbnD,EAAS,CAAE,cAAgB,UAAhB,OAA2BzD,IAJzB,SAKbyB,IAAM8F,OAAO,kBAAmB,CAAE7D,QAASD,GAAW,CAAEC,QAAS,CAAE,cAAepB,KALrE,OAMnB1C,OAAOC,aAAawS,WAAW,SAC/BjQ,EAAQuB,KAAK,KAPM,4CAAH,qDAWlB,OACE,mCACI6P,EAASlD,MACT,oCACE,uBACA,oBAAI7L,MAAO,CAAE6G,UAAW,SAAUvD,OAAQ,iBAA1C,sCACA,qBAAKtD,MAAO,CAAEC,QAAS,OAAQC,eAAgB,SAAUgP,aAAc,QAAvE,SACE,cAAC9O,EAAA,EAAD,CAAOC,IAAK0O,EAAST,cAAehO,IAAI,QAAQf,GAAG,qBAErD,uBACA,gCACE,qBAAIS,MAAO,CAAE6G,UAAW,SAAUvD,OAAQ,iBAA1C,sBAAuEyL,EAASlD,SAChF,oBAAI7L,MAAO,CAAEkD,MAAO,cACpB,qBAAIlD,MAAO,CAAE6G,UAAW,SAAUvD,OAAQ,iBAA1C,wBAAyEyL,EAASnI,YAClF,oBAAI5G,MAAO,CAAEkD,MAAO,cACpB,qBAAK3D,GAAG,wBAAR,SACE,cAACqB,EAAA,EAAD,CAAQrB,GAAG,yBAAyBkE,QAAS,kBAAM0K,GAASD,IAA5D,mCAEDA,GACL,qCACE,mBAAGlO,MAAO,CAAE6G,UAAW,SAAUvD,OAAQ,iBAAzC,yEACA,sBAAK/D,GAAG,wBAAR,UACE,cAACqB,EAAA,EAAD,CAASrB,GAAG,yBAAyBkE,QAASwL,EAA9C,iBACA,cAACrO,EAAA,EAAD,CAASrB,GAAG,yBAAyBkE,QAAS,kBAAK0K,GAAQ,IAA3D,4BAOJ,qBAAK5O,GAAG,gBAAgBS,MAAO,CAAEoB,OAAQ,SAAzC,SACE,cAACoD,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,SAAjC,SACE,sBAAMtH,UAAU,kBAAhB,+BCrCG+R,OArBf,WAGE,OACE,eAAC,IAAD,WACE,cAAC,GAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWvE,IACjC,cAAC,IAAD,CAAOqE,OAAK,EAACC,KAAK,YAAYC,UAAWtB,KACzC,cAAC,IAAD,CAAOoB,OAAK,EAACC,KAAK,UAAUC,UAAWvI,IACvC,cAAC,IAAD,CAAOqI,OAAK,EAACC,KAAK,YAAYC,UAAWR,KACzC,cAAC,IAAD,CAAOM,OAAK,EAACC,KAAK,cAAcC,UAAWpF,IAC3C,cAAC,IAAD,CAAOkF,OAAK,EAACC,KAAK,iBAAiBC,UAAW1F,IAC9C,cAAC,IAAD,CAAOwF,OAAK,EAACC,KAAK,aAAaC,UAAW/J,IAC1C,cAAC,IAAD,CAAO6J,OAAK,EAACC,KAAK,cAAcC,UAAWjO,OAE7C,cAAC,EAAD,Q,OCvBNkO,IAASC,OAAO,cAAC,GAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.d78f72f4.chunk.js","sourcesContent":["export const getTokenFromLocalStorage = () => {\n  return window.localStorage.getItem('token')\n}\n\n\n\nexport const getPayload = () => {\n  const token = getTokenFromLocalStorage()\n  if (!token) return\n  const splitToken = token.split('.')\n  if (splitToken.length < 3) return \n  const payloadString = splitToken[1]\n  return JSON.parse(atob(payloadString))\n}\n\n\nexport const userIsAuthenticated = () => {\n  const payload = getPayload()\n  if (!payload) return false\n  const now = Math.round(Date.now() / 1000)\n  return now < payload.exp\n}","\nimport React from 'react'\nimport axios from 'axios'\n\nconst uploadUrl = 'https://api.cloudinary.com/v1_1/dgcme57zq/image/upload'\nconst uploadPreset = 'mhhmdurn'\n\n\nexport const ImageUploadField = ({ handleImageUrl }) => {\n\n\n  const handleUpload = async event => {\n    const data = new FormData()\n    data.append('file', event.target.files[0])\n    data.append('upload_preset', uploadPreset)\n    const res = await axios.post(uploadUrl, data)\n    handleImageUrl(res.data.url)\n  }\n  \n  return (\n    <>\n      <input \n        className='input'\n        type='file'\n        onChange={handleUpload}\n      />\n    </>\n  )\n}","import React, { useState } from 'react'\nimport Form from 'react-bootstrap/Form'\nimport Image from 'react-bootstrap/Image'\nimport Button from 'react-bootstrap/Button'\nimport { ImageUploadField } from './ImageUploadField'\nimport Cookies from 'js-cookie'\nimport { getTokenFromLocalStorage } from '../helpers/auth'\nimport { useHistory } from 'react-router-dom'\nimport axios from 'axios'\n\n\nconst AddBook = ({ AuthorId, setBooks, setShowAdd }) => {\n  const history = useHistory()\n  const csrftoken = Cookies.get('csrftoken')\n  const [formData, setFormData ] = useState({\n    author: AuthorId,\n    title: '',\n    image: '',\n    publication_year: '',\n    description: '',\n    genre: '',\n  })\n\n  // eslint-disable-next-line no-unused-vars\n  const [errors, setErrors ] = useState({\n    author: AuthorId,\n    title: '',\n    image: '',\n    publication_year: '',\n    description: '',\n    genre: '',\n  })\n\n  const handleChange = (event) => {\n    setFormData({ ...formData, [event.target.name]: event.target.value })\n  } \n\n  const handleImageUrl = url => {\n    setFormData({ ...formData, image: url } )\n  }\n\n\n\n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    try {\n      const header = { 'X-CSRFToken': csrftoken, 'Authorization': `Bearer ${getTokenFromLocalStorage()}`  }\n      await axios.post('/api/books/', formData, { headers: header })\n      history.push(`/author/${AuthorId}`)\n      const { data } = await axios.get(`/api/authors/${AuthorId}/`)\n      setBooks(data.books)\n      setShowAdd(false)\n    } catch (err) {\n      setErrors(err.response.data)\n    }\n  }\n\n  \n  return (\n    <Form onSubmit={handleSubmit} id='add_author_form'>\n      <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n        <Form.Label>Title</Form.Label>\n        <Form.Control type=\"text\" rows={3} name='title' value={formData.title} onChange={handleChange} isInvalid={errors.title}/>\n        {errors.title && <Form.Control.Feedback type=\"invalid\">\n          {errors.title}\n        </Form.Control.Feedback>\n        }\n      </Form.Group>\n      <Form.Group  md=\"3\" controlId=\"validationFormik04\">\n        <Form.Label style={{ display: 'block' }}>Image</Form.Label>\n        <ImageUploadField\n          value={formData.image}\n          name=\"image\"\n          handleImageUrl={handleImageUrl}\n          isInvalid={errors.image}\n        />\n        {errors.image && <Form.Control.Feedback type=\"invalid\">\n          {errors.image}\n        </Form.Control.Feedback>\n        }\n      </Form.Group>\n      {formData.image &&\n          <div style={{ display: 'flex', justifyContent: 'center', paddingTop: '40px' }}>\n            <Image src={formData.image} alt='image' id='book_image_add' />\n          </div>}\n      <br/>\n      <Form.Group  controlId=\"validationFormikUsername\">\n        <Form.Label>First Publication Year</Form.Label>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"publication year\"\n          aria-describedby=\"inputGroupPrepend\"\n          name=\"publication_year\"\n          value={formData.publication_year}\n          onChange={handleChange}\n          isInvalid={errors.publication_year}\n        />\n        {errors.publication_year && <Form.Control.Feedback type=\"invalid\">\n          {errors.publication_year}\n        </Form.Control.Feedback>\n        }\n      </Form.Group>\n      <br/>\n      <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n        <Form.Label>Description</Form.Label>\n        <Form.Control as=\"textarea\" rows={3} name='description' value={formData.description} onChange={handleChange} isInvalid={errors.description}/>\n        {errors.description && <Form.Control.Feedback type=\"invalid\">\n          {errors.description}\n        </Form.Control.Feedback>\n        }\n      </Form.Group>\n      <Form.Group>\n        <Form.Label>Genre: {formData.genre}</Form.Label>\n        <Form.Select aria-label=\"Default select example\" name='genre' onChange={handleChange} isInvalid={errors.genre}>\n          <option disabled selected>Select a genre</option>\n          <option value='Biography'>Biography</option>\n          <option value=\"Business\">Business</option>\n          <option value=\"Classics\">Classics</option>\n          <option value=\"Comics\">Comics</option>\n          <option value=\"Fantasy\">Fantasy</option>\n          <option value=\"Fiction\">Fiction</option>\n          <option value=\"History\">History</option>\n          <option value=\"Horror\">Horror</option>\n          <option value=\"Memoir\">Memoir</option>\n          <option value=\"Mystery\">Mystery</option>\n          <option value=\"Nonfiction\">Nonfiction</option>\n          <option value=\"Poetry\">Poetry</option>\n          <option value=\"Romance\">Romance</option>\n          <option value=\"Science Fiction\">Science Fiction</option>\n          <option value=\"Thriller\">Thriller</option>\n          <option value=\"Young Adults\">Young Adults</option>\n        </Form.Select>\n        {errors.genre && <Form.Control.Feedback type=\"invalid\">\n          {errors.genre}\n        </Form.Control.Feedback>\n        }\n      </Form.Group>\n      <br/>\n      <br/>\n      <div className=\"d-grid gap-2\">\n        <Button variant=\"outline-secondary\" type=\"submit\" >\n        Add\n        </Button>\n      </div>\n    </Form>\n  )\n}\n\n\nexport default AddBook","import React, { useState } from 'react'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Cookies from 'js-cookie'\nimport { getTokenFromLocalStorage } from '../helpers/auth'\nimport { useHistory } from 'react-router-dom'\nimport axios from 'axios'\n\n\n\nconst UpdateAnAuthor = ( { author, setShowUpdate, setAuthor, showUpdate } ) => {\n  const history = useHistory()\n  const csrftoken = Cookies.get('csrftoken')\n\n  const [formData, setFormData] = useState({\n    name: author.name,\n    biography: author.biography,\n  })\n\n  const [errors, setErrors ] = useState({\n    name: '',\n    biography: '',\n  })\n\n\n\n  const handleChange = (event) => {\n    setFormData({ ...formData, [event.target.name]: event.target.value })\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    try {\n      const header = { 'X-CSRFToken': csrftoken, 'Authorization': `Bearer ${getTokenFromLocalStorage()}`  }\n      await axios.put(`/api/authors/${author.id}/`, formData, { headers: header })\n      const { data } = await axios.get(`/api/authors/${author.id}/`)\n      setShowUpdate(!showUpdate)\n      setAuthor(data)\n      history.push(`/author/${data.id}`)\n    } catch (err) {\n      setErrors(err.response.data)\n    }\n  }\n  return (\n    <Form onSubmit={handleSubmit} id='add_author_form'>\n      <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n        <Form.Label>Name</Form.Label>\n        <Form.Control type=\"text\" rows={3} name='name' value={formData.name} onChange={handleChange} isInvalid={errors.name}/>\n        {errors.name && <Form.Control.Feedback type=\"invalid\">\n          {errors.name}\n        </Form.Control.Feedback>\n        }\n      </Form.Group>\n      <Form.Group  controlId=\"validationFormikUsername\">\n        <Form.Label>Biography</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          name=\"biography\"\n          value={formData.biography}\n          onChange={handleChange}\n          isInvalid={errors.biography}\n          style={{ height: '150px' }}\n        />\n        {errors.biography && <Form.Control.Feedback type=\"invalid\">\n          {errors.biography}\n        </Form.Control.Feedback>\n        }\n      </Form.Group>\n      <br/>\n      <br/>\n      <div className=\"d-grid gap-2\">\n        <Button variant=\"outline-secondary\" type=\"submit\" >\n        Add\n        </Button>\n      </div>\n    </Form>\n  )\n}\n\n\nexport default UpdateAnAuthor","import React, { useEffect, useState } from 'react'\nimport { useParams, Link, useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport Breadcrumb from 'react-bootstrap/Breadcrumb'\nimport Card from 'react-bootstrap/Card'\nimport Row from 'react-bootstrap/Row'\nimport { userIsAuthenticated, getPayload, getTokenFromLocalStorage } from '../helpers/auth' \nimport Cookies from 'js-cookie'\nimport Button from 'react-bootstrap/Button'\nimport Spinner from 'react-bootstrap/esm/Spinner'\nimport AddBook from './AddBook'\nimport UpdateAnAuthor from './UpdateAnAuthor'\n\n\n\nconst AuthorPage = () => {\n  const [liked, setLiked] = useState(false)\n  const [author, setAuthor] = useState([])\n  const [books, setBooks] = useState([])\n  const [owner, setOwner] = useState([])\n  const [showAdd, setShowAdd] = useState(false)\n  const [showUpdate, setShowUpdate] = useState(false)\n  const { id } = useParams()\n  const history = useHistory()\n  const csrftoken = Cookies.get('csrftoken')\n\n\n\n  useEffect(()=> {\n    const getData = async() => {\n      const { data } = await axios.get(`/api/authors/${id}/`)\n      setAuthor(data)\n      setBooks(data.books)\n      setOwner(data.owner)\n      const user = await getUserData()\n      if (!user) return false\n      data.followers.some( follower => {\n        if (follower.id === user.id) {\n          setLiked(true)\n        }\n      })\n    }\n    getData()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id])\n\n  const getUserData = async() => {\n    try {\n      const token = window.localStorage.getItem('token')\n      if (!token) throw new Error()\n      if (!userIsAuthenticated()) throw new Error()\n      const header = { 'X-CSRFToken': csrftoken, 'Authorization': `Bearer ${token}`  }\n  \n      const { data } = await axios.get('/api/auth/user/', { headers: header })\n      return data\n    } catch (err) {\n      return \n    }\n\n\n  }\n\n  const followAuthor = async(event) => {\n    const user = await getUserData()\n    const { data } = await axios.get(`/api/authors/${id}/`)\n    if (event.target.classList.contains('liked') || event.target.parentElement.classList.contains('liked')) {\n      const index = data.followers.indexOf(user.id)\n      data.followers.splice(index, 1)\n    } else {\n      if (data.followers) data.followers = [ ...data.followers, user.id]\n      if (!data.followers) data.followers = [user.id]\n    }\n    if (!data) throw new Error()\n    const token = window.localStorage.getItem('token')\n    if (!token) throw new Error()\n    console.log(data)\n    if (!userIsAuthenticated()) throw new Error()\n    const header = { 'X-CSRFToken': csrftoken, 'Authorization': `Bearer ${token}`  }\n    const response = await axios.put(`/api/authors/${id}/like/`, data, { headers: header } )\n    if (!response) throw new Error()\n    setLiked(!liked)\n  }\n\n\n  const addAbook = () => {\n    setShowAdd(!showAdd)\n  }\n\n  const updateAuthor = () => {\n    setShowUpdate(!showUpdate)\n  }\n\n  const userIsOwner = (currentUserId) => {\n    console.log(currentUserId)\n    const payload = getPayload()\n    if (!payload) return false\n    return currentUserId === payload.sub\n  }\n\n  const deleteAuthor = async() => {\n    const header = { 'X-CSRFToken': csrftoken, 'Authorization': `Bearer ${getTokenFromLocalStorage()}`  }\n    await axios.delete(`/api/authors/${id}/`,  { headers: header })\n    history.push('/browse')\n  }\n\n\n\n  return (\n    <>\n      { author.name ? \n        <>\n          <Breadcrumb id='breadcrumb_book'>\n            <Breadcrumb.Item><Link to ='/' style={{ color: 'inherit', textDecoration: 'inherit' }}>Home</Link></Breadcrumb.Item>\n            <Breadcrumb.Item>\n              <Link to ='/browse' style={{ color: 'inherit', textDecoration: 'inherit' }}> \n              Browse\n              </Link>\n            </Breadcrumb.Item>\n            <Breadcrumb.Item active>{author.title}</Breadcrumb.Item>\n          </Breadcrumb>\n          <section className=\"hero-banner\" id='book_banner' style={{ backgroundImage: `linear-gradient( rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.9) ), url(${author.image})` }}>\n            <div className=\"container\" id='book_container'>\n              <div className=\"row row align-items-center\">\n                <div className=\"col\" id='book_image_column'>\n                  <div style={{ display: 'flex', justifyContent: 'center' }}>\n                    <img src={author.image} alt={author.image} id='author_image'/>\n                  </div>\n                  {userIsAuthenticated() && \n                  <div className='my-5' style={{ margin: '25px', display: 'flex', flexDirection: 'column' }}>\n                    <a href=\"#\" onClick={(event) => followAuthor(event)} className = {`${liked ? 'liked' : ''} btn btn-outline-light border` }><i className=\"fas fa-feather-alt\"></i> {liked ? ' Following' : ' Follow '} </a>\n                  </div>\n                  }\n                </div>\n                <div className=\"col-lg-6\" id='book_info_column'>\n                  {showUpdate ?\n                    <UpdateAnAuthor author={author} showUpdate={showUpdate} setShowUpdate={setShowUpdate} setAuthor={setAuthor}/>\n                    :\n                    <>\n                      <h3 className=\"mt-3\" id='book_title'>{author.name}</h3>\n                      <p className=\"text my-4\" id='book_text'>{author.biography}</p>\n                    </>\n                  }\n\n                  {userIsOwner(owner.id) && \n                  <>\n                    <Button variant='btn btn-outline-light border' onClick={updateAuthor} >Update Author</Button>\n                    <Button variant='btn btn-outline-light border' onClick={deleteAuthor} >Delete Author</Button>\n                  </>\n                  }            \n                </div>\n              </div>\n            </div>\n          </section>\n          {userIsAuthenticated() && <Button  variant='outline-secondary' style={{ margin: '20px 0 10px 30px' }} onClick={addAbook}>Add A book from this author</Button>}\n          {showAdd && <AddBook  AuthorId={author.id} setBooks={setBooks} setShowAdd={setShowAdd}/>}\n          <Row xs={1} md={4} className=\"g-4\" id='book_display2'>\n            {books.map((book) => {\n              return (\n                <Card style={{ width: '13rem' }} key={book.id} id='books_card'>\n                  <Link to={`/books/${book.id}`}>\n                    <Card.Img variant=\"top\" src={book.image} />\n                    <Card.Body>\n                      <Card.Title style={{ fontSize: '15px' , fontWeight: '700' }}>{book.title}</Card.Title>\n                    </Card.Body>\n                  </Link>\n                </Card>\n                // </Col>\n              )\n            })}\n          </Row>\n        </>\n        :\n        <div id='loading_state' style={{ height: '635px' }}>\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\" >Loading...</span>\n          </Spinner>\n        </div>\n      }\n    </>\n  )\n}\n\n\nexport default AuthorPage","import React, { useState } from 'react'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Cookies from 'js-cookie'\nimport { getTokenFromLocalStorage } from '../helpers/auth'\nimport axios from 'axios'\nimport { useHistory } from 'react-router-dom'\n\n\nconst AddReview = ({ id, setShowReview, setReviews }) => {\n  const history = useHistory()\n  const csrftoken = Cookies.get('csrftoken')\n  const [formData, setFormData] = useState({\n    book: id,\n    review: '',\n    rating: null,\n  })\n\n  const [errors, setErrors ] = useState({\n    review: '',\n    rating: '',\n  })\n\n  const handleChange = (event) => {\n    setFormData( { ...formData, [event.target.name]: event.target.value })\n  }\n\n  const handleSubmit = async (event)=> {\n    event.preventDefault()\n    try {\n      const header = { 'X-CSRFToken': csrftoken, 'Authorization': `Bearer ${getTokenFromLocalStorage()}`  }\n      await axios.post('/api/reviews/', formData, { headers: header })\n      history.push(`/books/${id}`)\n      const { data } = await axios.get(`/api/books/${id}/`)\n      setShowReview(false)\n      setReviews(data.reviews)\n\n    } catch (err) {\n      setErrors(err.response.data)\n    }\n  }\n\n  return (\n    <Form onSubmit={handleSubmit} id='add_review_form'>\n      <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n        <Form.Label>Review</Form.Label>\n        <Form.Control style={{ backgroundColor: '#EAE7DC' }} as=\"textarea\" rows={3} name='review' value={formData.review} onChange={handleChange} isInvalid={errors.review}/>\n        {errors.review && <Form.Control.Feedback type=\"invalid\">\n          {errors.review}\n        </Form.Control.Feedback>\n        }\n      </Form.Group>\n      <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\n        <Form.Label>Rating</Form.Label>\n        <div className=\"mb-3\">\n          { formData.rating !== '1' &&  formData.rating !== null ? \n            <Form.Check\n              inline\n              disabled\n              label=\"1\"\n              name=\"rating\"\n              type='checkbox'\n              value='1'\n              onClick={handleChange}\n            />\n            :\n            <Form.Check\n              inline\n              label=\"1\"\n              name=\"rating\"\n              type='checkbox'\n              value='1'\n              onClick={handleChange}\n              isInvalid={errors.rating}\n            />\n          }\n          { formData.rating !== '2' &&  formData.rating !== null ? \n            <Form.Check\n              inline\n              disabled\n              label=\"2\"\n              name=\"rating\"\n              type='checkbox'\n              value='2'\n              onClick={handleChange}\n            />\n            :\n            <Form.Check\n              inline\n              label=\"2\"\n              name=\"rating\"\n              type='checkbox'\n              value='2'\n              onClick={handleChange}\n              isInvalid={errors.rating}\n            />\n          }\n          { formData.rating !== '3' &&  formData.rating !== null ?\n            <Form.Check\n              inline\n              disabled\n              label=\"3\"\n              name=\"rating\"\n              type='checkbox'\n              value='3'\n              onClick={handleChange}\n            /> \n            :   \n            <Form.Check\n              inline\n              label=\"3\"\n              name=\"rating\"\n              type='checkbox'\n              value='3'\n              onClick={handleChange}\n              isInvalid={errors.rating}\n            />\n          }\n          { formData.rating !== '4' &&  formData.rating !== null ?     \n            <Form.Check\n              inline\n              disabled\n              label=\"4\"\n              name=\"rating\"\n              type='checkbox'\n              value='4'\n            />\n            :\n            <Form.Check\n              inline\n              label=\"4\"\n              name=\"rating\"\n              type='checkbox'\n              value='4'\n              onClick={handleChange}\n              isInvalid={errors.rating}\n            />\n          }\n          { formData.rating !== '5' &&  formData.rating !== null ? \n            <Form.Check\n              inline\n              disabled\n              label=\"5\"\n              name=\"rating\"\n              type='checkbox'\n              value='5'\n              onClick={handleChange}\n            />\n            :\n            <Form.Check\n              inline\n              label=\"5\"\n              name=\"rating\"\n              type='checkbox'\n              value='5'\n              onClick={handleChange}\n              isInvalid={errors.rating}\n            />\n          }\n        </div>\n        <div className=\"d-grid gap-2\">\n          <Button variant=\"outline-secondary\" type=\"submit\" >\n          Submit\n          </Button>\n        </div>\n      </Form.Group>\n    </Form>\n  )\n}\n\n\nexport default AddReview\n","import React, { useState } from 'react'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Cookies from 'js-cookie'\nimport { getTokenFromLocalStorage } from '../helpers/auth'\nimport { useHistory } from 'react-router-dom'\nimport axios from 'axios'\n\n\nconst UpdateABook = ({ book, author, setBook, setShowUpdate }) => {\n  const history = useHistory()\n  const csrftoken = Cookies.get('csrftoken')\n  const [formData, setFormData ] = useState({\n    author: author.id,\n    title: book.title,\n    publication_year: book.publication_year,\n    description: book.description,\n    genre: book.genre,\n  })\n\n  // eslint-disable-next-line no-unused-vars\n  const [errors, setErrors ] = useState({\n    author: author.id,\n    title: '',\n    publication_year: '',\n    description: '',\n    genre: '',\n  })\n\n  const handleChange = (event) => {\n    setFormData({ ...formData, [event.target.name]: event.target.value })\n  } \n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    try {\n      const header = { 'X-CSRFToken': csrftoken, 'Authorization': `Bearer ${getTokenFromLocalStorage()}`  }\n      await axios.put(`/api/books/${book.id}/`, formData, { headers: header })\n      const { data } = await axios.get(`/api/books/${book.id}/`)\n      setBook(data)\n      setShowUpdate(false)\n      history.push(`/books/${book.id}`)\n    } catch (err) {\n      setErrors(err.response.data)\n    }\n  }\n\n\n  return (\n    <Form onSubmit={handleSubmit} id='add_author_form'>\n      <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n        <Form.Label>Title</Form.Label>\n        <Form.Control type=\"text\" rows={3} name='title' value={formData.title} onChange={handleChange} isInvalid={errors.title}/>\n        {errors.title && <Form.Control.Feedback type=\"invalid\">\n          {errors.title}\n        </Form.Control.Feedback>\n        }\n      </Form.Group>\n      <Form.Group  controlId=\"validationFormikUsername\">\n        <Form.Label>First Publication Year</Form.Label>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"publication year\"\n          aria-describedby=\"inputGroupPrepend\"\n          name=\"publication_year\"\n          value={formData.publication_year}\n          onChange={handleChange}\n          isInvalid={errors.publication_year}\n        />\n        {errors.publication_year && <Form.Control.Feedback type=\"invalid\">\n          {errors.publication_year}\n        </Form.Control.Feedback>\n        }\n      </Form.Group>\n      <br/>\n      <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n        <Form.Label>Description</Form.Label>\n        <Form.Control as=\"textarea\" rows={3} name='description' value={formData.description} onChange={handleChange} isInvalid={errors.description}/>\n        {errors.description && <Form.Control.Feedback type=\"invalid\">\n          {errors.description}\n        </Form.Control.Feedback>\n        }\n      </Form.Group>\n      <Form.Group>\n        <Form.Label>Genre: {formData.genre}</Form.Label>\n        <Form.Select aria-label=\"Default select example\" name='genre' onChange={handleChange} isInvalid={errors.genre}>\n          <option disabled selected>Select a genre</option>\n          <option value='Biography'>Biography</option>\n          <option value=\"Business\">Business</option>\n          <option value=\"Classics\">Classics</option>\n          <option value=\"Comics\">Comics</option>\n          <option value=\"Fantasy\">Fantasy</option>\n          <option value=\"Fiction\">Fiction</option>\n          <option value=\"History\">History</option>\n          <option value=\"Horror\">Horror</option>\n          <option value=\"Memoir\">Memoir</option>\n          <option value=\"Mystery\">Mystery</option>\n          <option value=\"Nonfiction\">Nonfiction</option>\n          <option value=\"Poetry\">Poetry</option>\n          <option value=\"Romance\">Romance</option>\n          <option value=\"Science Fiction\">Science Fiction</option>\n          <option value=\"Thriller\">Thriller</option>\n          <option value=\"Young Adults\">Young Adults</option>\n        </Form.Select>\n        {errors.genre && <Form.Control.Feedback type=\"invalid\">\n          {errors.genre}\n        </Form.Control.Feedback>\n        }\n      </Form.Group>\n      <br/>\n      <br/>\n      <div className=\"d-grid gap-2\">\n        <Button variant=\"outline-secondary\" type=\"submit\" >\n        Add\n        </Button>\n      </div>\n    </Form>\n  )\n}\n\nexport default UpdateABook","import React, { useState, useEffect } from 'react'\nimport { useParams, Link, useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport Breadcrumb from 'react-bootstrap/Breadcrumb'\nimport Accordion from 'react-bootstrap/Accordion'\nimport Button from 'react-bootstrap/Button'\nimport Spinner from 'react-bootstrap/esm/Spinner'\nimport { userIsAuthenticated, getPayload, getTokenFromLocalStorage } from '../helpers/auth'\nimport Cookies from 'js-cookie'\nimport AddReview from './AddReview'\nimport UpdateABook from './UpdateABook'\n\nconst Book = () => {\n  const csrftoken = Cookies.get('csrftoken')\n  const { id } = useParams()\n  const [ book, setBook] = useState([])\n  const [ author, setAuthor] = useState([])\n  const [reviews, setReviews] = useState([])\n  const [owner, setOwner] = useState([])\n  const [liked, setLiked] = useState(false)\n  const [rating, setRating] = useState()\n  const [showReview, setShowReview] = useState(false)\n  const [showUpdate, setShowUpdate] = useState(false)\n  const history = useHistory()\n\n  useEffect(()=> {\n    const getData = async() => {\n      const { data } = await axios.get(`/api/books/${id}/`)\n      setBook(data)\n      setAuthor(data.author)\n      setReviews(data.reviews)\n      setOwner(data.owner)\n      avgRating(data.reviews)\n      const user = getUserData()\n      if (!user) return false\n      data.followers.some( follower => {\n        if (follower.id === user.id) {\n          setLiked(true)\n        }\n      })\n    }\n    getData()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const getUserData = async() => {\n    try {\n      const token = window.localStorage.getItem('token')\n      if (!token) throw new Error()\n      if (!userIsAuthenticated()) throw new Error()\n      const header = { 'Authorization': `Bearer ${token}` }\n      const { data } = await axios.get('/api/auth/user/', { headers: header },  { headers: { 'X-CSRFToken': csrftoken  } })\n      return data\n    } catch (err) {\n      return \n    }\n\n  }\n\n  const addtoCollection = async(event) => {\n    const user = await getUserData()\n    const { data } = await axios.get(`/api/books/${id}/`)\n    if (event.target.classList.contains('liked') || event.target.parentElement.classList.contains('liked')) {\n      const index = data.followers.indexOf(user.id)\n      data.followers.splice(index, 1)\n    } else {\n      if (data.followers) data.followers = [ ...data.followers, user.id]\n      if (!data.followers) data.followers = [user.id]\n    }\n    if (!data) throw new Error()\n    const token = window.localStorage.getItem('token')\n    if (!token) throw new Error()\n    console.log(data)\n    if (!userIsAuthenticated()) throw new Error()\n    const header = { 'X-CSRFToken': csrftoken, 'Authorization': `Bearer ${token}`  }\n    const response = await axios.put(`/api/books/${id}/like/`, data, { headers: header } )\n    if (!response) throw new Error()\n    setLiked(!liked)\n  }\n\n\n  const addReview = () => {\n    setShowReview(!showReview)\n  }\n\n  const userIsOwner = (currentUserId) => {\n    const payload = getPayload()\n    if (!payload) return false\n    return currentUserId === payload.sub\n  }\n\n  const deleteReview = async(reviewId, review) => {\n    const header = { 'X-CSRFToken': csrftoken, 'Authorization': `Bearer ${getTokenFromLocalStorage()}`  }\n    await axios.delete(`/api/reviews/${reviewId}/ `, { headers: header })\n    const index = reviews.indexOf(review)\n    // eslint-disable-next-line no-unused-vars\n    const newReviewsArray = [...reviews.splice(index, 1)]\n    setReviews([...reviews])\n    history.push(`/books/${id}`)\n  }\n\n\n  const deleteBook = async() => {\n    const header = { 'X-CSRFToken': csrftoken, 'Authorization': `Bearer ${getTokenFromLocalStorage()}`  }\n    await axios.delete(`/api/books/${id}/`,  { headers: header })\n    history.push('/browse')\n  }\n\n\n  const avgRating = (reviews) => {\n    if (reviews.length > 0) {\n      const allratings = reviews.map(review => review.rating)\n      const average = allratings.reduce((a, b) => (a + b)) / allratings.length\n      setRating((average.toFixed(1)))\n    }\n  }\n\n  const updateBook = () => {\n    setShowUpdate(!showUpdate)\n  }\n\n\n\n  return (\n    <>\n      {book.title ? \n        <>\n          <Breadcrumb id='breadcrumb_book'>\n            <Breadcrumb.Item><Link to ='/' style={{ color: 'inherit', textDecoration: 'inherit' }}>Home</Link></Breadcrumb.Item>\n            <Breadcrumb.Item>\n              <Link to ='/browse' style={{ color: 'inherit', textDecoration: 'inherit' }}> \n              Browse\n              </Link>\n            </Breadcrumb.Item>\n            <Breadcrumb.Item active>{book.title}</Breadcrumb.Item>\n          </Breadcrumb>\n          <section className=\"hero-banner\" id='book_banner' style={{ backgroundImage: `linear-gradient( rgba(0, 0, 0, 1), rgba(0, 0, 0, 0.7) ), url(${book.image})` }}>\n            <div className=\"container\" id='book_container'>\n              <div className=\"row row align-items-center\">\n                <div className=\"col\" id='book_image_column'>\n                  <div style={{ display: 'flex', justifyContent: 'center' }}>\n                    <img src={book.image} alt={book.image} id='book_image'/>\n                  </div>\n                  {userIsAuthenticated() && \n                  <div className='my-5' style={{ margin: '25px', display: 'flex', flexDirection: 'column' }}>\n                    <a href=\"#\" onClick={(event) => addtoCollection(event)} className = {`${liked ? 'liked' : ''} btn btn-outline-light border` }><i className=\"fas fa-book\"></i> {liked ? ' Added to your collection' : ' Add to collection'} </a>\n                    { userIsOwner(owner.id) && \n                    <>\n                      <br/>\n                      <Button variant='btn btn-outline-light border' onClick={updateBook} >Update</Button>\n                      <Button variant='btn btn-outline-light border' onClick={deleteBook} >Delete book\n                      </Button>\n                    </>\n                    }\n                  </div>\n                  }\n                </div>\n                <div className=\"col-lg-6\" id='book_info_column'>\n                  {showUpdate ?\n                    <UpdateABook book={book} showUpdate={showUpdate} setShowUpdate={setShowUpdate} setBook={setBook} author={author}/>\n                    :\n                    <>\n                      <h3 className=\"mt-3\" id='book_title'>{book.title}</h3>\n\n                      <Link to ={`/author/${author.id}`}><h5 style={{ marginTop: '20px', textDecoration: 'underline' }}>{author.name}</h5></Link>\n                      <p className=\"text\" id='book_text' >First published in {book.publication_year}</p>\n                      <br/>\n                      <p  id='book_text'>{book.description}</p>\n                      <br/>\n                      <Link to={`/browse/${book.genre}`}><p  id='book_show_genre'>{book.genre}</p></Link>\n                      {reviews.length > 0 && <p className=\"text\" id='book_text'> Rating {rating} <i className=\"fas fa-star\"></i></p>}\n                    </>\n                  }\n                </div>\n              </div>\n            </div>\n          </section>\n          <div style={{ display: 'flex' }} >\n            <div id='reviews_column'>\n              <Accordion defaultActiveKey=\"0\">\n                {showReview && <AddReview id={id} setShowReview={setShowReview} setReviews={setReviews}/>}\n                {reviews.length > 0 ? reviews.map(review => {\n                  const newCreated = review.created_at.substring(0,10)\n                  if (userIsOwner(review.owner.id)) {\n                    return (\n                      <Accordion.Item eventKey=\"0\" key={review.id}>\n                        <Accordion.Header style={{ color: 'white' }} id='book_review_accordion_header'>{review.owner.username} - Reviewed on {newCreated} \n                        </Accordion.Header>\n                        <Accordion.Body>\n                          {review.review}\n                          <hr/>\n                          {review.rating}\n                        </Accordion.Body>\n                        <Button id='book_delete_button' onClick={() => deleteReview(review.id, review)}>Delete</Button>\n                      </Accordion.Item>\n                    )\n                  }\n                  return (\n                    <Accordion.Item eventKey=\"0\" key={review.id}>\n                      <Accordion.Header>{review.owner.username} - Reviewed on {newCreated} \n                      </Accordion.Header>\n                      <Accordion.Body>\n                        {review.review}\n                        <hr/>\n                        {review.rating}\n                      </Accordion.Body>\n                    </Accordion.Item>\n                  )\n                })\n                  :\n                  <>\n                    <p id='book_no_review_text'>This book has no reviews. Want to be the first one to add a review?</p>\n                    {!userIsAuthenticated() && <Link to='/register'><p style={{ textAlign: 'start', margin: '-50px 0 100px 50px', textDecoration: 'underline' }}>Create your account today</p></Link>}\n                  </>\n                }\n                \n              </Accordion>\n            </div>\n            <div className='review_button'>\n              {userIsAuthenticated() &&\n              <Button variant='outline-secondary' onClick={addReview}  style={{ height: '40px', borderRadius: '5px' }} ><i className=\"fas fa-plus\"></i> Add A review </Button>\n              }\n            </div>\n          </div>\n        </>\n        :\n        <div id='loading_state' style={{ height: '635px' }}>\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\" >Loading...</span>\n          </Spinner>\n        </div>\n      }\n    </>\n  )\n}\n\n\nexport default Book","import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport Card from 'react-bootstrap/Card'\nimport Row from 'react-bootstrap/Row'\nimport Spinner from 'react-bootstrap/Spinner'\nimport Form from 'react-bootstrap/Form'\nimport CardGroup from 'react-bootstrap/CardGroup'\nimport { Link, useLocation } from 'react-router-dom'\nimport * as QueryString from 'query-string'\n\n\n\n\nconst Browse = () => {\n\n  const [books, setBooks] = useState([])\n  const [allBooks, setAllBooks] = useState([])\n  const [genres, setGenres] = useState([])\n  const props = useLocation()\n  const params = QueryString.parse(props.search)\n  const [filteredresults, setFilteredResults] = useState([])\n  // const [reviews, setReviews ] = useState([])\n  // eslint-disable-next-line no-unused-vars\n  const [ratings, setRatings ] = useState([])\n  const [checked, setChecked ] = useState(false)\n  const [checked2, setChecked2 ] = useState(false)\n  const [checked3, setChecked3 ] = useState(false)\n  const [checked4, setChecked4 ] = useState(false)\n  const [checked5, setChecked5 ] = useState(false)\n\n  useEffect(()=> {\n    const getData = async() => {\n      const { data } = await axios.get('/api/books/')\n      setBooks(data)\n      setAllBooks(data)\n      const allreviews = data.map(book => book.reviews)\n      getRatings(allreviews)\n      const newArray = []\n      for (let i = 0; i < data.length; i++) {\n        let justgenres = false\n        justgenres = newArray.some(genre => {\n          return (genre.genre === data[i].genre )\n        })\n        if (!justgenres) newArray.push(data[i])\n      }\n      setGenres(newArray)\n\n      let filtered = null\n      filtered = data.filter( search => {\n        return (\n          search.title.toLowerCase().includes(params.search) \n          \n        )\n      })\n      setFilteredResults(filtered)\n\n    }\n    getData()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props])\n\n  \n  const getRatings = (reviews) => {\n    const bookandRating = []\n    for (let i = 0; i < reviews.length; i++) {\n      if (reviews[i].length > 0) {\n        const allratings = reviews[i].map(review => review.rating)\n        const allbooks = reviews[i].find(review => review.book)\n        const average = allratings.reduce((a, b) => (a + b)) / allratings.length\n        bookandRating.push([allbooks, average.toFixed(1)])\n      }\n      setRatings(bookandRating)\n    }\n  }\n\n\n  const handleClick = (event) => {\n    if (event.target.name === '1' ) {\n      setChecked(!checked)\n    } else if (event.target.name === '2') {\n      setChecked2(!checked2)\n    } else if (event.target.name === '3') {\n      setChecked3(!checked3)\n    } else if (event.target.name === '4') {\n      setChecked4(!checked4)\n    } else if (event.target.name === '5') {\n      setChecked5(!checked5)\n    }\n\n    if (!checked && !checked2  && !checked3 && !checked4 && !checked5) {\n      const newBooksArray = []\n      for (let i = 0; i < ratings.length; i++) {\n        if (ratings[i][1] >= event.target.name ) {\n          const newbooks = books.filter(book => {\n            if (book.id === ratings[i][0].book) {\n              return book \n            }\n          })\n          newBooksArray.push(newbooks[0])\n        }\n      }\n      setBooks(newBooksArray)\n    } else {\n      setBooks(allBooks)\n    }\n\n  }\n\n\n  return (\n    <>\n      { books.length ? \n        <>\n          <br/>\n          <h4 style={{ padding: '20px 0 20px 60px' }}>Browse by Genre</h4>\n          <hr style={{ color: 'darkgrey' }}/>\n          <br/>\n          <Row id='genre_cards'>\n            {genres.map(book => {\n              return (\n                <Card key={book.id} className=\"text-center\" border=\"light\" id='genre_card'>\n                  <Link to= {`/browse/${book.genre}`} style={{ color: 'inherit', textDecoration: 'inherit' }}>\n                    <Card.Img variant=\"top\" src={book.image} id='genre_image'/>\n                    <Card.Body>{book.genre}</Card.Body>\n                  </Link>\n                </Card>\n              )  \n            })\n            }\n          </Row>\n          <br/>\n          <hr/>\n          {filteredresults.length > 0 ?\n            <>\n              <CardGroup id='books-cards'>\n                <Row xs={1} md={4} className=\"g-4\" id='book_display'>\n                  {filteredresults.map(book => {\n                    return (\n                      <Card key={book.id} id='books_card'style={{ width: '13rem' }}  >\n                        <Link to={`/books/${book.id}`} style={{ color: 'inherit', textDecoration: 'inherit' }}>\n                          <Card.Img variant=\"top\" src={book.image} />\n                          <Card.Body>\n                            <Card.Title>{book.title}</Card.Title>\n                            <Card.Text style ={{ fontStyle: 'italic', fontSize: '15px' }}>\n                              {book.author.name}\n                              <br/>\n                              {book.reviews.length} Reviews\n                            </Card.Text>\n                          </Card.Body>\n                        </Link>\n                      </Card>\n                    )\n                  })}\n                </Row>\n              </CardGroup>\n            </>\n            :\n            <>\n              { params.search ? \n                <>\n                  <h3>There are no results for your search,<br/> please try searching for something else </h3> \n                  <hr/>\n                </>\n                : \n                <h2></h2>\n              } \n              <div id='browse_books_content'>\n                <div  id='browse_filter_column'>\n                  <div>FILTER BY</div>\n                  <hr/>\n                  <div>Rating</div>\n                  <br/>\n                  <div key='checkbox' className=\"mb-3\" style={{ display: 'flex', flexDirection: 'column' }}>\n                    <Form.Check\n                      inline\n                      label=\"1\"\n                      name=\"1\"\n                      type='checkbox'\n                      onClick={handleClick}\n                      checked={checked}\n                    />\n                    <Form.Check\n                      inline\n                      label=\"2\"\n                      name=\"2\"\n                      type='checkbox'\n                      onClick={handleClick}\n                      checked={checked2}\n                    />\n                    <Form.Check\n                      inline\n                      label=\"3\"\n                      name=\"3\"\n                      type='checkbox'\n                      onClick={handleClick}\n                      checked={checked3}\n                    />\n                    <Form.Check\n                      inline\n                      label=\"4\"\n                      name=\"4\"\n                      type='checkbox'\n                      onClick={handleClick}\n                      checked={checked4}\n\n                    />\n                    <Form.Check\n                      inline\n                      label=\"5\"\n                      name=\"5\"\n                      type='checkbox'\n                      onClick={handleClick}\n                      checked={checked5}\n                    />\n                  </div>\n                </div>\n\n                <div style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap' }}>\n                  <CardGroup id='books-cards'>\n                    <Row xs={1} md={4} className=\"g-4\" id='book_display'>\n                      {books.map(book => {\n                        return (\n                          <Card key={book.id} id='books_card' >\n                            <Link to={`/books/${book.id}`} style={{ color: 'inherit', textDecoration: 'inherit' }}>\n                              <Card.Img variant=\"top\" src={book.image} id='browse_book_image'/>\n                              <Card.Body>\n                                <Card.Title>{book.title}</Card.Title>\n                                <Card.Text className='text-muted' style ={{ fontStyle: 'italic', fontSize: '15px' }}>\n                                  {book.author.name}\n                                  <br/>\n                                  {book.reviews.length} Reviews\n                                </Card.Text>\n                              </Card.Body>\n                            </Link>\n                          </Card>\n                        )\n                      })}\n                    </Row>\n                  </CardGroup>\n                </div>\n              </div>\n            </>\n          }\n        </>\n        :\n        <>\n          <div id='loading_state' style={{ height: '635px' }}>\n            <Spinner animation=\"border\" role=\"status\">\n              <span className=\"visually-hidden\" >Loading...</span>\n            </Spinner>\n          </div>\n        </>\n      }\n    \n    </>\n  )\n}\n\nexport default Browse","import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport { useParams, Link } from 'react-router-dom'\nimport CardGroup from 'react-bootstrap/CardGroup'\nimport Card from 'react-bootstrap/Card'\nimport Row from 'react-bootstrap/Row'\nimport Form from 'react-bootstrap/Form'\nimport Spinner from 'react-bootstrap/esm/Spinner'\n\n\n\nconst BrowseByGenre = () => {\n  const { genre } = useParams()\n  const [books, setBooks] = useState([])\n  const [allBooks, setAllBooks] = useState([])\n  const [ratings, setRatings ] = useState([])\n  const [checked, setChecked ] = useState(false)\n  const [checked2, setChecked2 ] = useState(false)\n  const [checked3, setChecked3 ] = useState(false)\n  const [checked4, setChecked4 ] = useState(false)\n  const [checked5, setChecked5 ] = useState(false)\n  const [ results, setResults ] = useState('')\n\n  useEffect(() => {\n    const getBooks = async() => {\n      const { data } = await axios.get('/api/books/')\n      const booksGenre = data.filter(book => {\n        if (book.genre === genre) {\n          return book\n        }\n      })\n      const allreviews = data.map(book => book.reviews)\n      getRatings(allreviews)\n      setBooks(booksGenre)\n      setAllBooks(booksGenre)\n    }\n    getBooks()\n  }, [genre])\n\n\n\n  const getRatings = (reviews) => {\n    const bookandRating = []\n    for (let i = 0; i < reviews.length; i++) {\n      if (reviews[i].length > 0) {\n        const allratings = reviews[i].map(review => review.rating)\n        const allbooks = reviews[i].find(review => review.book)\n        const average = allratings.reduce((a, b) => (a + b)) / allratings.length\n        bookandRating.push([allbooks, average.toFixed(1)])\n      }\n      setRatings(bookandRating)\n    }\n  }\n\n\n  const handleClick = (event) => {\n    if (event.target.name === '1' ) {\n      setChecked(!checked)\n    } else if (event.target.name === '2') {\n      setChecked2(!checked2)\n    } else if (event.target.name === '3') {\n      setChecked3(!checked3)\n    } else if (event.target.name === '4') {\n      setChecked4(!checked4)\n    } else if (event.target.name === '5') {\n      setChecked5(!checked5)\n    }\n\n    if (!checked && !checked2  && !checked3 && !checked4 && !checked5) {\n      const newBooksArray = []\n      for (let i = 0; i < ratings.length; i++) {\n        if (ratings[i][1] >= event.target.name ) {\n          const newbooks = books.filter(book => {\n            if (book.id === ratings[i][0].book) {\n              console.log(book)\n              return book \n            }\n          })\n          if (newbooks.length > 0) {\n            newBooksArray.push(newbooks[0])\n          }\n        }\n      }\n      if (newBooksArray.length > 0) {\n        setBooks(newBooksArray)\n        setResults('')\n      }\n      setResults('There are no results for your search')\n    } else {\n      setBooks(allBooks)\n      setResults('')\n    }\n  }\n  \n\n\n\n  return (\n    <>\n      {books.length ? \n        <>\n          <br/>\n          <h4 style={{ padding: '20px 0 20px 60px' }}>{genre}</h4>\n          <hr style={{ color: 'darkgrey' }}/>\n          <br/>\n          <section style={{ display: 'flex' }}>\n            <div id='browse_books_content'>\n              <div  id='browse_filter_column'>\n                <div>FILTER BY</div>\n                <hr/>\n                <div>Rating</div>\n                <br/>\n                <div key='checkbox' className=\"mb-3\" style={{ display: 'flex', flexDirection: 'column' }}>\n                  <Form.Check\n                    inline\n                    label=\"1\"\n                    name=\"1\"\n                    type='checkbox'\n                    onClick={handleClick}\n                    checked={checked}\n                  />\n                  <Form.Check\n                    inline\n                    label=\"2\"\n                    name=\"2\"\n                    type='checkbox'\n                    onClick={handleClick}\n                    checked={checked2}\n                  />\n                  <Form.Check\n                    inline\n                    label=\"3\"\n                    name=\"3\"\n                    type='checkbox'\n                    onClick={handleClick}\n                    checked={checked3}\n                  />\n                  <Form.Check\n                    inline\n                    label=\"4\"\n                    name=\"4\"\n                    type='checkbox'\n                    onClick={handleClick}\n                    checked={checked4}\n\n                  />\n                  <Form.Check\n                    inline\n                    label=\"5\"\n                    name=\"5\"\n                    type='checkbox'\n                    onClick={handleClick}\n                    checked={checked5}\n                  />\n                </div>\n              </div>\n            </div>\n            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n              <div style={{ textAlign: 'center' }} >{results}</div>\n              <hr style={{ color: 'darkgrey' }}/>\n              <CardGroup id='books-cards'>\n                <Row xs={1} md={4} className=\"g-4\" id='book_display'>\n                  {books.map(book => {\n                    return (\n                      <Card key={book.id} id='books_card' >\n                        <Link to={`/books/${book.id}`} style={{ color: 'inherit', textDecoration: 'inherit' }}>\n                          <Card.Img variant=\"top\" src={book.image} />\n                          <Card.Body>\n                            <Card.Title>{book.title}</Card.Title>\n                            <Card.Text style ={{ fontStyle: 'italic', fontSize: '15px' }}>\n                              {book.author.name}\n                              <br/>\n                              {book.reviews.length} Reviews\n                            </Card.Text>\n                          </Card.Body>\n                        </Link>\n                      </Card>\n                    )\n                  })}\n                </Row>\n              </CardGroup>\n            </div>\n          </section>\n        </>\n        :\n        <div id='loading_state' style={{ height: '635px' }}>\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\" >Loading...</span>\n          </Spinner>\n        </div>\n\n      }\n    </>\n  )\n}\n\nexport default BrowseByGenre","import React, { useState } from 'react'\nimport Form from 'react-bootstrap/Form'\nimport Image from 'react-bootstrap/Image'\nimport Button from 'react-bootstrap/Button'\nimport { ImageUploadField } from './ImageUploadField'\nimport Cookies from 'js-cookie'\nimport { getTokenFromLocalStorage } from '../helpers/auth'\nimport { useHistory } from 'react-router-dom'\nimport axios from 'axios'\n\n\nconst AddanAuthor = () => {\n  const history = useHistory()\n  const csrftoken = Cookies.get('csrftoken')\n  const [formData, setFormData ] = useState({\n    name: '',\n    image: '',\n    biography: '',\n  })\n\n  const [errors, setErrors ] = useState({\n    name: '',\n    image: '',\n    biography: '',\n  })\n\n  const handleChange = (event) => {\n    setFormData({ ...formData, [event.target.name]: event.target.value })\n  } \n\n  const handleImageUrl = url => {\n    setFormData({ ...formData, image: url } )\n  }\n\n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    try {\n      const header = { 'X-CSRFToken': csrftoken, 'Authorization': `Bearer ${getTokenFromLocalStorage()}`  }\n      const { data } = await axios.post('/api/authors/', formData, { headers: header })\n      history.push(`/author/${data.id}`)\n    } catch (err) {\n      setErrors(err.response.data)\n    }\n  }\n\n  return (\n    <Form onSubmit={handleSubmit} id='add_author_form'>\n      <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n        <Form.Label>Name</Form.Label>\n        <Form.Control type=\"text\" rows={3} name='name' value={formData.name} onChange={handleChange} isInvalid={errors.name}/>\n        {errors.name && <Form.Control.Feedback type=\"invalid\">\n          {errors.name}\n        </Form.Control.Feedback>\n        }\n      </Form.Group>\n      <Form.Group  md=\"3\" controlId=\"validationFormik04\">\n        <Form.Label style={{ display: 'block' }}>Image</Form.Label>\n        <ImageUploadField\n          value={formData.image}\n          name=\"image\"\n          handleImageUrl={handleImageUrl}\n          isInvalid={errors.image}\n\n        />\n        {errors.image && <Form.Control.Feedback type=\"invalid\">\n          {errors.image}\n        </Form.Control.Feedback>\n        }\n      </Form.Group>\n      {formData.image &&\n          <div style={{ display: 'flex', justifyContent: 'center', paddingTop: '40px' }}>\n            <Image src={formData.image} alt='image' id='book_image_add' />\n          </div>}\n      <br/>\n      <Form.Group  controlId=\"validationFormikUsername\">\n        <Form.Label>Biography</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          name=\"biography\"\n          value={formData.biography}\n          onChange={handleChange}\n          isInvalid={errors.biography}\n          style={{ height: '150px' }}\n        />\n        {errors.biography && <Form.Control.Feedback type=\"invalid\">\n          {errors.biography}\n        </Form.Control.Feedback>\n        }\n      </Form.Group>\n      <br/>\n      <br/>\n      <div className=\"d-grid gap-2\">\n        <Button variant=\"outline-secondary\" type=\"submit\" >\n        Add\n        </Button>\n      </div>\n    </Form>\n  )\n}\n\n\nexport default AddanAuthor","import React, { useEffect, useState } from 'react'\nimport { userIsAuthenticated } from '../helpers/auth'\nimport axios from 'axios'\nimport Cookies from 'js-cookie'\nimport Row from 'react-bootstrap/Row'\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button'\nimport { Link } from 'react-router-dom'\nimport AddanAuthor from './AddanAuthor'\nimport Spinner from 'react-bootstrap/esm/Spinner'\n\nconst Collection = () => {\n  const csrftoken = Cookies.get('csrftoken')\n  const [yourBooks, setYourbooks] = useState([])\n  const [yourAuthors, setYourAuthors] = useState([])\n  const [addAuthor, setAddAuthor] = useState(false)\n  const [loading, setLoading] = useState(true)\n\n\n  useEffect(()=> {\n    const getUserData = async() => {\n      const token = window.localStorage.getItem('token')\n      if (!token) throw new Error()\n      if (!userIsAuthenticated()) throw new Error()\n      const header = { 'Authorization': `Bearer ${token}` }\n      const { data } = await axios.get('/api/auth/user/', { headers: header },  { headers: { 'X-CSRFToken': csrftoken  } })\n      setYourbooks(data.liked_books)\n      setYourAuthors(data.liked_authors)\n      setLoading(false)\n    }\n    getUserData()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n\n  const handleClick = () => {\n    setAddAuthor(!addAuthor)\n  }\n\n  return (\n    <>\n      { loading ?\n        <div id='loading_state' style={{ height: '635px' }}>\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\" >Loading...</span>\n          </Spinner>\n        </div>\n        :\n        <>\n          <br/>\n          <h2 style={{ padding: '20px 0 20px 60px' }}>Your Collection</h2>\n          <br/>\n          <h4 style={{ padding: '20px 0 0px 60px' }}>Action</h4>\n          {/* <hr style={{ color: 'darkgrey' }}/> */}\n          <Button variant='outline-secondary' onClick={handleClick} style={{ margin: '20px 0 20px 80px' }}><i className=\"fas fa-feather-alt\"></i> Add a new Author</Button>\n          { addAuthor && <AddanAuthor />}\n          <hr style={{ color: 'darkgrey' }}/>\n          <h4 style={{ padding: '20px 0 20px 60px' }}>Your saved Books</h4>\n          <Row xs={1} md={4} className=\"g-4\" id='book_display3'>\n            {yourBooks.map((book) => {\n              return (\n                <Card key={book.id} style={{ width: '10rem' }} id='books_card' >\n                  <Link to={`/books/${book.id}`} >\n                    <Card.Img variant=\"top\" src={book.image} />\n                    <Card.Body>\n                      <Card.Title style={{ fontSize: '15px' , fontWeight: '700' }}>{book.title}</Card.Title>\n                    </Card.Body>\n                  </Link>\n                </Card>\n              )\n            })}\n          </Row>\n          <hr style={{ color: 'darkgrey' }}/>\n          <h4 style={{ padding: '20px 0 20px 60px' }}>Followed Authors</h4>\n          <Row xs={1} md={4} className=\"g-4\" id='book_display3'>\n            {yourAuthors.map((author) => {\n              return (\n                <Card style={{ width: '10rem' }} key={author.id} id='books_card' >\n                  <Link to={`/author/${author.id}`}>\n                    <Card.Img variant=\"top\" src={author.image} />\n                    <Card.Body>\n                      <Card.Title style={{ fontSize: '15px' , fontWeight: '700' }}>{author.name}</Card.Title>\n                    </Card.Body>\n                  </Link>\n                </Card>\n              )\n            })}\n          </Row>\n        </>\n      }\n    </>\n  )\n}\n\n\nexport default Collection","import React from 'react'\n\n\nconst Footer = () => {\n\n  return (\n    <div style={{ display: 'flex', height: '80px', justifyContent: 'space-evenly', alignItems: 'center' }} id='footer_full' >\n      <div><a href='https://github.com/IssraHashim'>About</a></div>\n      <div>Terms & Conditions</div>\n      <div style={{ display: 'flex' }}>\n        <div style={{ marginLeft: '20px' }}><a href='http://www.instagram.com'>Instagram</a></div>\n        <div style={{ marginLeft: '20px' }}><a href='http://www.facebook.com'>Facebook</a></div> \n        <div style={{ marginLeft: '20px' }}><a href='http://www.twitter.com'>Twitter</a></div>\n      </div>\n    </div>\n  )\n}\n\n\n\nexport default Footer","export default __webpack_public_path__ + \"static/media/book_homepage.c037bbf7.jpg\";","export default __webpack_public_path__ + \"static/media/library.3a124e66.jpg\";","import React, { useEffect, useState } from 'react'\nimport Carousel from 'react-bootstrap/Carousel'\nimport axios from 'axios'\nimport Spinner from 'react-bootstrap/Spinner'\nimport InputGroup from 'react-bootstrap/InputGroup'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport FormControl from 'react-bootstrap/FormControl'\nimport { Link } from 'react-router-dom'\nimport FirstImage from '../assets/book_homepage.jpg'\nimport SecondImage from '../assets/library.jpg'\nimport * as QueryString from 'query-string'\n\n\nconst Home = () => {\n  const [books, setBooks] = useState([])\n  const [search, setSearch ] = useState({})\n\n  useEffect(()=> {\n    const getData = async()=> {\n      const { data } = await axios.get('/api/books/')\n      setBooks(data)\n    }\n    getData()\n\n  }, [])\n\n  const [index, setIndex] = useState(0)\n\n  const handleSelect = (selectedIndex) => {\n    setIndex(selectedIndex)\n  }\n\n  const handleSearch = (event) => {\n    setSearch({ ...search, search: event.target.value.toLowerCase() })\n  }\n\n  const startNewSearch = () => {\n    return `?${QueryString.stringify(search)}`\n  }\n\n\n  return (\n    <>\n      {books.length ? \n        <>\n          <Carousel  activeIndex={index} onSelect={handleSelect}>\n            <Carousel.Item interval={5000}>\n              <img   \n                className=\"d-block w-40\"\n                src={FirstImage}\n                height=\"500\"\n                alt='books'\n                id='home_book_image_1'\n              />\n              <div >\n                <div id='homepage_text'> Welcome to Bookopedia</div>\n                <br/>\n                <div id='homepage_caption'>Here you will find all your favorite books and reviews by our bookadvisors. Create an account today so you can follow all your favorite authors and create a book collection to keep track of your next read!</div>\n              </div>\n            </Carousel.Item>\n            <Carousel.Item interval={5000}>\n              <div >\n                <div id='homepage_text'>Book Reviews</div>\n                <br/>\n                <div id='homepage_caption'>Look at {books.length} books and their reviews. Let our community of bookwarms help you find what your next book is.</div>\n              </div>\n              <img   \n                className=\"d-block w-40\"\n                src={SecondImage}\n                height=\"500\"\n                alt='old-books'\n                id='home_book_image_1'\n              />\n            </Carousel.Item>\n          </Carousel>\n          <div >\n            <InputGroup id='search_div'>\n              <Form className=\"d-flex\">\n                <FormControl\n                  placeholder=\"Seach for a book...\"\n                  className=\"me-2\"\n                  onChange={handleSearch}\n                  aria-label=\"Recipient's username\"\n                  aria-describedby=\"basic-addon2\"\n                  style={{ backgroundColor: '#d8c3a561' }}\n                />\n                <Link to={`/browse${startNewSearch()}`}><Button variant=\"outline-secondary\" onClick={startNewSearch} >Search</Button></Link>\n              </Form>\n            </InputGroup>\n          </div>\n        </>\n        :\n        <div id='loading_state' style={{ height: '635px' }}>\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\" >Loading...</span>\n          </Spinner>\n        </div>\n      }\n    </>\n  )\n}\n\nexport default Home","export default __webpack_public_path__ + \"static/media/download-1.99cd9238.png\";","import React, { useState, useEffect } from 'react'\nimport Navbar from 'react-bootstrap/Navbar'\nimport Nav from 'react-bootstrap/Nav'\nimport Container from 'react-bootstrap/Container'\nimport Form from 'react-bootstrap/Form'\nimport Dropdown from 'react-bootstrap/Dropdown'\nimport NavDropdown from 'react-bootstrap/NavDropdown'\nimport Button from 'react-bootstrap/Button'\nimport Logo from '../assets/download-1.png'\nimport Col from 'react-bootstrap/esm/Col'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUser } from '@fortawesome/fontawesome-free-solid'\nimport axios from 'axios'\nimport Cookies from 'js-cookie'\n// import Register from './Register'\nimport { userIsAuthenticated } from '../helpers/auth'\nimport { useHistory, useLocation, Link } from 'react-router-dom'\n\n// import { getToken } from '../auth.js'\n\nconst MyNavbar = () => {\n  const csrftoken = Cookies.get('csrftoken')\n  const [formData, setFormData] = useState( {\n    email: '',\n    password: '',\n  } )\n\n  // const [show, setShow] = useState(false)\n  const [errors, setErrors] = useState(false)\n  const [welcomeBack, setWelcomeBack] = useState('')\n  const [click, setClick] = useState(false)\n  const userLogo = <FontAwesomeIcon icon={faUser} /> \n  const history = useHistory()\n  const location = useLocation()\n  const [genres, setGenres] = useState([])\n\n\n\n\n  useEffect(()=> {\n    const getData = async() => {\n      const { data } = await axios.get('/api/books/')\n      const newArray = []\n      for (let i = 0; i < data.length; i++) {\n        let justgenres = false\n        justgenres = newArray.some(genre => {\n          return (genre.genre === data[i].genre )\n        })\n        if (!justgenres) newArray.push(data[i])\n      }\n\n      setGenres(newArray)\n    }\n    getData()\n  }, [location.pathname])\n\n\n\n  const handleClick = () => {\n    setClick(!click)\n  }\n\n\n\n  const handleChange = (event) => {\n    const newFormData = { ...formData, [event.target.name]: event.target.value }\n    setFormData(newFormData)\n  }\n\n\n  const setItemToLocalStorage = (token) => {\n    window.localStorage.setItem('token', token)\n  }\n\n  const handleLogOut = () => {\n    window.localStorage.removeItem('token')\n    history.push('/')\n  }\n\n  const handleSubmit = async() => {\n    try {\n      const { data } = await axios.post('/api/auth/login/', formData, \n        { headers: { 'X-CSRFToken': csrftoken  } } )\n      setItemToLocalStorage(data.token)\n      setWelcomeBack(data.message)\n      history.push('/')\n    } catch (err) {\n      setErrors(true)\n    }\n      \n  }\n\n  return (\n    <Navbar id='navbar_full' expand=\"lg\">\n      <Container fluid>\n        <Navbar.Brand> \n          <Link to='/'>\n            <img\n              src={Logo}\n              height=\"60\"\n              className=\"d-inline-block align-top\"\n              alt=\"Bookopedia logo\"/>\n          </Link>\n        </Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"navbarScroll\" />\n        <Navbar.Collapse id=\"navbarScroll\">\n          <Nav\n            className=\"me-auto my-2 my-lg-0\"\n            style={{ maxHeight: '100px' }}\n            navbarScroll\n          >\n            <Nav.Link><Link to=\"/browse\" style={{ color: 'inherit', textDecoration: 'inherit' }}>Browse</Link></Nav.Link>\n            <NavDropdown variant=\"light\"autoClose=\"outside\" title='Genre'       id=\"dropdown-menu-align-responsive-1\" > \n              {genres.map(book => {\n                return (\n                  <NavDropdown.Item key={book.id} className='mb-0 pb-0' >\n                    <Link to={`/browse/${book.genre}`} style={{ color: 'inherit', textDecoration: 'inherit' }} ><Col key={book.id} id='genre_popover'>{book.genre}</Col></Link>\n                  </NavDropdown.Item>\n                )\n              })}\n            </NavDropdown>\n          </Nav>\n          <Navbar.Collapse className=\"justify-content-end\">\n            {userIsAuthenticated() ?\n              <>\n                <Navbar.Text>{welcomeBack}</Navbar.Text>\n                <NavDropdown autoClose=\"outside\" id=\"dropdown-autoclose-outside\" align=\"end\" className='logindropdown' onClick={handleClick} title={userLogo} >\n                  <NavDropdown.Item ><Link to='/collection'>Your Collection</Link></NavDropdown.Item>\n                  <NavDropdown.Item ><Link to='/settings'>Settings</Link></NavDropdown.Item>\n                  <NavDropdown.Divider />\n                  <NavDropdown.Item href=\"#action5\" onClick={handleLogOut}>\n                      Log out\n                  </NavDropdown.Item>\n                </NavDropdown>\n              </>\n              :\n              <>\n                <NavDropdown autoClose=\"outside\" id=\"dropdown-autoclose-outside\" align=\"end\" className='logindropdown' onClick={handleClick} title='Log in'  >{handleClick &&\n                  <>\n                    <Dropdown.Item style={{ display: 'flex', flexDirection: 'column', alignItems: 'start', backgroundColor: '#d8c3a5fa' }}>\n                      <Form style={{ width: '310px', display: 'flex', flexDirection: 'column', alignItems: 'start', paddingTop: '10px' }}>\n                        <Form.Group as={Col} className=\"mb-3\" controlId=\"formPlaintextEmail\" >\n                          <Form.Label column sm=\"2\">\n                            Email\n                          </Form.Label >\n                          <Col sm=\"10\" style={{ width: '280px' }}>\n                            <Form.Control type=\"email\" placeholder=\"Enter email\" name='email' onChange={handleChange} value={formData.email}/>\n                            {errors && <p>your username or password is incorrect</p>}\n\n                          </Col>\n                        </Form.Group>\n                        <Form.Group as={Col} className=\"mb-3\" controlId=\"formPlaintextPassword\" >\n                          <Form.Label column sm=\"2\">\n                            Password\n                          </Form.Label>\n                          <Col sm=\"10\" style={{ width: '280px' }}>\n                            <Form.Control type=\"password\" placeholder=\"Password\" name='password' onChange={handleChange} value={formData.password}/>\n                            {errors && <p>your username or password is incorrect</p>}\n                          </Col>\n                        </Form.Group>\n                        <Button type=\"submit\" variant=\"outline-secondary\"  id='book_delete_button' style={{ marginTop: '20px' }} onClick={handleSubmit}>Sign in</Button>\n                      </Form>\n                    </Dropdown.Item>\n                  </>\n                }\n                </NavDropdown>\n                <Link to='/register'><Button variant=\"outline\" id='book_register_button' >Register</Button></Link>\n              </>\n            }\n            \n          </Navbar.Collapse>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  )\n}\n\nexport default MyNavbar","import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport Form from 'react-bootstrap/Form'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Image from 'react-bootstrap/Image'\nimport Button from 'react-bootstrap/Button'\n// import Offcanvas from 'react-bootstrap/Offcanvas'\nimport InputGroup from 'react-bootstrap/InputGroup'\nimport axios from 'axios'\nimport Cookies from 'js-cookie'\nimport { ImageUploadField } from './ImageUploadField'\n// import Modal from 'react-bootstrap/Modal'\n\nconst Register = ({ handleClose }) => {\n  const csrftoken = Cookies.get('csrftoken')\n  const history = useHistory()\n  const [show, setShow ] = useState(true)\n  const [formData, setFormData] = useState({\n    first_name: '',\n    last_name: '',\n    username: '',\n    email: '',\n    profile_image: '',\n    password: '',\n    password_confirmation: '',\n    liked_authors: [],\n    liked_books: [],\n  })\n  const [errors, setErrors] = useState({\n    username: '',\n    email: '',\n    profile_image: '',\n    password: '',\n    password_confirmation: '',\n  })\n\n\n  const handleChange = (event) => {\n    setFormData({ ...formData, [event.target.name]: event.target.value })\n  }\n\n\n\n  const handleSubmit = async(event) => {\n    event.preventDefault()\n    try {\n      console.log(formData)\n      await axios.post('/api/auth/register/', formData, { headers: { 'X-CSRFToken': csrftoken  } })\n      setShow(false)\n      history.push('/')\n      \n    } catch (err) {\n      setErrors(err.response.data)\n    }\n  }\n\n\n  const handleImageUrl = url => {\n    setFormData({ ...formData, profile_image: url } )\n  }\n\n\n  return (\n    <div show={show} placement='end' onHide={handleClose} id='add_author_form' >\n      <div closeButton>\n        <div style={{ padding: '20px 0 20px 60px', fontSize: '30px' }}>Register</div>\n      </div>\n      <Form noValidate onSubmit={handleSubmit} id='add_author_form'  >\n        <div>\n          <Row className=\"mb-3\">\n            <Form.Group as={Col} controlId=\"validationFormik01\">\n              <Form.Label>First name</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"first_name\"\n                value={formData.first_name}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"validationFormik02\">\n              <Form.Label>Last name</Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"last_name\"\n                value={formData.last_name}\n                onChange={handleChange}\n              />\n            </Form.Group>\n          </Row>\n          <br/>\n          <Row className=\"mb-3\">\n            <Form.Group as={Col} controlId=\"validationFormikUsername\">\n              <Form.Label>Username</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Username\"\n                aria-describedby=\"inputGroupPrepend\"\n                name=\"username\"\n                value={formData.username}\n                onChange={handleChange}\n                isInvalid={errors.username}\n              />\n              {errors.username && <Form.Control.Feedback type=\"invalid\">\n                {errors.username}\n              </Form.Control.Feedback>\n              }\n            </Form.Group>\n            <Form.Group as={Col}  controlId=\"validationFormik03\">\n              <Form.Label>Email</Form.Label>\n              <InputGroup hasValidation>\n\n                <InputGroup.Text id=\"inputGroupPrepend\">@</InputGroup.Text>\n                <Form.Control\n                  type=\"email\"\n                  placeholder=\"Email\"\n                  name=\"email\"\n                  value={formData.email}\n                  onChange={handleChange}\n                  isInvalid={errors.email}\n                />\n\n                <Form.Control.Feedback type=\"invalid\">\n                  {errors.email}\n                </Form.Control.Feedback>\n              </InputGroup>\n            </Form.Group>\n          </Row>\n          <br/>\n          <Row className=\"mb-3\">\n            <Form.Group as={Col} controlId=\"validationFormik05\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                value={formData.password}\n                onChange={handleChange}\n                isInvalid={errors.password}\n              />\n              <Form.Control.Feedback type=\"invalid\">\n                {errors.password}\n              </Form.Control.Feedback>\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"validationFormik05\">\n              <Form.Label>Password Confirmation</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Password Confirmation\"\n                name=\"password_confirmation\"\n                value={formData.password_confirmation}\n                onChange={handleChange}\n                isInvalid={errors.password_confirmation}\n              />\n              <Form.Control.Feedback type=\"invalid\">\n                {errors.password_confirmation}\n              </Form.Control.Feedback>\n            </Form.Group>\n          </Row>\n          \n        </div>\n        <br/>\n        <Row className=\"mb-3\">\n          <div as={Col} md=\"3\" controlId=\"validationFormik04\">\n            <Form.Label>Profile Picture</Form.Label>\n            <br/>\n            <ImageUploadField\n              value={formData.profile_image}\n              name=\"profile_image\"\n              handleImageUrl={handleImageUrl}\n              isInvalid={errors.profile_image}\n            />\n            <Form.Control.Feedback type=\"invalid\">\n              {errors.profile_image}\n            </Form.Control.Feedback>\n            {formData.profile_image &&\n              <div style={{ display: 'flex', justifyContent: 'flex-start', paddingTop: '40px' }}>\n                <Image src={formData.profile_image} alt='image' id='profile_image' />\n              </div>}\n          </div>\n        </Row>\n        <br/>\n        <Form.Group >\n          <Form.Check\n            required\n            name=\"terms\"\n            type=\"checkbox\"\n            label=\"Sign up to our weekly newsletter to keep up with new reviews and books\"\n            onChange={handleChange}\n            id=\"validationFormik0\"\n          />\n        </Form.Group>\n        <br/>\n        <Button variant=\"outline-secondary\" type=\"submit\" onClick={handleSubmit}>Submit form</Button>\n      </Form>\n    </div>\n\n  // <Modal show='true' onHide={handleClose}>\n  //   <Modal.Header closeButton>\n  //     <Modal.Title>Register</Modal.Title>\n  //   </Modal.Header>\n  //   <Form noValidate onSubmit={handleSubmit} id='register_form'>\n  //     <Modal.Body>\n  //       <Row className=\"mb-3\">\n  //         <Form.Group as={Col} controlId=\"validationFormik01\">\n  //           <Form.Label>First name</Form.Label>\n  //           <Form.Control\n  //             type=\"text\"\n  //             name=\"first_name\"\n  //             value={formData.first_name}\n  //             onChange={handleChange}\n  //           />\n  //         </Form.Group>\n  //         <Form.Group as={Col} controlId=\"validationFormik02\">\n  //           <Form.Label>Last name</Form.Label>\n  //           <Form.Control\n  //             type=\"text\"\n  //             name=\"last_name\"\n  //             value={formData.last_name}\n  //             onChange={handleChange}\n  //           />\n  //         </Form.Group>\n  //       </Row>\n  //       <Row className=\"mb-3\">\n  //         <Form.Group as={Col} controlId=\"validationFormikUsername\">\n  //           <Form.Label>Username</Form.Label>\n  //           <Form.Control\n  //             type=\"text\"\n  //             placeholder=\"Username\"\n  //             aria-describedby=\"inputGroupPrepend\"\n  //             name=\"username\"\n  //             value={formData.username}\n  //             onChange={handleChange}\n  //             isInvalid={errors.username}\n  //           />\n  //           {errors.username && <Form.Control.Feedback type=\"invalid\">\n  //             {errors.username}\n  //           </Form.Control.Feedback>\n  //           }\n  //         </Form.Group>\n  //         <Form.Group as={Col}  controlId=\"validationFormik03\">\n  //           <Form.Label>Email</Form.Label>\n  //           <InputGroup hasValidation>\n\n  //             <InputGroup.Text id=\"inputGroupPrepend\">@</InputGroup.Text>\n  //             <Form.Control\n  //               type=\"email\"\n  //               placeholder=\"Email\"\n  //               name=\"email\"\n  //               value={formData.email}\n  //               onChange={handleChange}\n  //               isInvalid={errors.email}\n  //             />\n\n  //             <Form.Control.Feedback type=\"invalid\">\n  //               {errors.email}\n  //             </Form.Control.Feedback>\n  //           </InputGroup>\n  //         </Form.Group>\n  //       </Row>\n  //       <Form.Group as={Col} md=\"3\" controlId=\"validationFormik04\">\n  //         <Form.Label>Profile Picture</Form.Label>\n  //         <ImageUploadField\n  //           value={formData.profile_image}\n  //           name=\"profile_image\"\n  //           handleImageUrl={handleImageUrl}\n  //           isInvalid={errors.profile_image}\n  //         />\n  //         <Form.Control.Feedback type=\"invalid\">\n  //           {errors.profile_image}\n  //         </Form.Control.Feedback>\n  //         {formData.profile_image &&\n  //           <div style={{ display: 'flex', justifyContent: 'flex-end', paddingTop: '40px' }}>\n  //             <Image src={formData.profile_image} alt='image' id='profile_image' />\n  //           </div>}\n  //       </Form.Group>\n  //       <Row className=\"mb-3\">\n  //         <Form.Group as={Col} md=\"3\" controlId=\"validationFormik05\">\n  //           <Form.Label>Password</Form.Label>\n  //           <Form.Control\n  //             type=\"password\"\n  //             placeholder=\"Password\"\n  //             name=\"password\"\n  //             value={formData.password}\n  //             onChange={handleChange}\n  //             isInvalid={errors.password}\n  //           />\n\n  //           <Form.Control.Feedback type=\"invalid\">\n  //             {errors.password}\n  //           </Form.Control.Feedback>\n  //         </Form.Group>\n  //         <Form.Group as={Col} controlId=\"validationFormik05\">\n  //           <Form.Label>Password Confirmation</Form.Label>\n  //           <Form.Control\n  //             type=\"password\"\n  //             placeholder=\"Password Confirmation\"\n  //             name=\"password_confirmation\"\n  //             value={formData.password_confirmation}\n  //             onChange={handleChange}\n  //             isInvalid={errors.password_confirmation}\n  //           />\n  //           <Form.Control.Feedback type=\"invalid\">\n  //             {errors.password_confirmation}\n  //           </Form.Control.Feedback>\n  //         </Form.Group>\n  //       </Row>\n  //       <Form.Group >\n  //         <Form.Check\n  //           required\n  //           name=\"terms\"\n  //           type=\"checkbox\"\n  //           label=\"Sign up to our weekly newsletter to keep up with new reviews and books\"\n  //           onChange={handleChange}\n  //           id=\"validationFormik0\"\n  //         />\n  //       </Form.Group>\n        \n  //     </Modal.Body>\n  //     <Modal.Footer>\n        \n  //       <Button variant=\"secondary\" type='submit' onClick={handleSubmit}>\n  //         Register\n  //       </Button>\n  //     </Modal.Footer>\n  //   </Form>\n\n  // </Modal>\n  )\n}\n\n\nexport default Register","import React, { useEffect, useState } from 'react'\nimport { userIsAuthenticated } from '../helpers/auth'\nimport axios from 'axios'\nimport Cookies from 'js-cookie'\nimport Button from 'react-bootstrap/Button'\nimport Image from 'react-bootstrap/Image'\nimport Spinner from 'react-bootstrap/esm/Spinner'\nimport { useHistory } from 'react-router-dom'\n\nconst Settings = () => {\n  const csrftoken = Cookies.get('csrftoken')\n  const [userData, setUserData] = useState([])\n  const [show, setShow] = useState(false)\n  const history = useHistory()\n\n  useEffect(()=> {\n    const getUserData = async() => {\n      const token = window.localStorage.getItem('token')\n      if (!token) throw new Error()\n      if (!userIsAuthenticated()) throw new Error()\n      const header = { 'Authorization': `Bearer ${token}` }\n      const { data } = await axios.get('/api/auth/user/', { headers: header },  { headers: { 'X-CSRFToken': csrftoken  } })\n      setUserData(data)\n    }\n    getUserData()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n\n  const handleDelete = async() => {\n    const token = window.localStorage.getItem('token')\n    if (!token) throw new Error()\n    if (!userIsAuthenticated()) throw new Error()\n    const header = { 'Authorization': `Bearer ${token}` }\n    await axios.delete('/api/auth/user/', { headers: header },  { headers: { 'X-CSRFToken': csrftoken  } })\n    window.localStorage.removeItem('token')\n    history.push('/')\n  }\n\n\n  return (\n    <>\n      { userData.email ? \n        <section >\n          <br/>\n          <h2 style={{ textAlign: 'center', margin: '30px 0 60px 0' }}>Your Bookopedia Settings</h2>\n          <div style={{ display: 'flex', justifyContent: 'center', marginBottom: '50px' }}>\n            <Image src={userData.profile_image} alt='image' id='profile_image2'/>\n          </div>\n          <br/>\n          <div>\n            <h4 style={{ textAlign: 'center', margin: '20px 0 20px 0' }}>Email :  {userData.email}</h4>\n            <hr style={{ color: 'darkgrey' }}/>\n            <h4 style={{ textAlign: 'center', margin: '20px 0 20px 0' }}>Username : {userData.username}</h4>\n            <hr style={{ color: 'darkgrey' }}/>\n            <div id='delete_account_button'>\n              <Button id='settings_delete_button' onClick={() => setShow(!show)}>Delete your Account</Button>\n            </div>\n            {show && \n        <>\n          <p style={{ textAlign: 'center', margin: '10px 0 10px 0' }}>Are you sure you want to delete your account at Bookopedia?</p>\n          <div id='delete_account_button'>\n            <Button  id='settings_delete_button' onClick={handleDelete}>Yes</Button>\n            <Button  id='settings_delete_button' onClick={()=> setShow(false) }>No</Button>\n          </div>\n        </>\n            }\n          </div>\n        </section>\n        :\n        <div id='loading_state' style={{ height: '635px' }}>\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\" >Loading...</span>\n          </Spinner>\n        </div>\n      }\n    </>\n  )\n}\n\nexport default Settings","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport AuthorPage from './components/AuthorPage'\nimport Book from './components/Book'\nimport Browse from './components/Browse'\nimport BrowseByGenre from './components/BrowseByGenre'\nimport Collection from './components/Collection'\nimport Footer from './components/Footer'\nimport Home from './components/Home'\nimport MyNavbar from './components/MyNavbar'\nimport Register from './components/Register'\nimport Settings from './components/Settings'\n\n\nfunction App() {\n\n\n  return (\n    <BrowserRouter>\n      <MyNavbar />\n      <Switch>\n        <Route exact path='/' component={Home}/>\n        <Route exact path='/register' component={Register}/>\n        <Route exact path='/browse' component={Browse}/>\n        <Route exact path='/settings' component={Settings}/>\n        <Route exact path='/collection' component={Collection}/>\n        <Route exact path='/browse/:genre' component={BrowseByGenre}/>\n        <Route exact path='/books/:id' component={Book}/>\n        <Route exact path='/author/:id' component={AuthorPage}/>\n      </Switch>\n      <Footer/>\n    </BrowserRouter>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/main.scss'\nimport App from './App'\nimport 'bootstrap/dist/css/bootstrap.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}